---
title: INTR Reservation synchronization
titleshort: Reservation synchronization
layout: reference.hbs
intrlist: true
date: 2023-10-26
---

# Reservation synchronization

The external system, and/or SIHOT.WEB, can directly transmit a new or
changed reservation to the upstream system.

## Operationcode: ``RES``

__``RES``__

### Direction

SIHOT.PMS ← SIHOT.WEB

### Message

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<OC>RES</OC>
	<ID>1</ID>
	<TN>1</TN>
	<RC>0</RC>
	<MSG>OK</MSG>
	<ARESLIST>
		<RESERVATION>
			<CONTACT>
				<Name>Meyer</Name>
				<Name2>Klaus</Name2>
				<STREET>Hauptstrasse</STREET>
				<ZIP>12345</ZIP>
				<CITY>Munich</CITY>
				<EMAIL1>r.meyer@abc.de</EMAIL1>
				<PHONE1>004981234567</PHONE1>
				<FAX1>004981234568</FAX1>
				<PERS-TYPE>1A</PERS-TYPE>
			</CONTACT>
			<RATE>
				<ISDEFAULT>Y</ISDEFAULT>
				<R>ÜF</R>
				<PRICE/>
				<CURRENCY/>
				<RATE-SEGMENT>GB0</RATE-SEGMENT>
			</RATE>
			<RATE>
				<ISDEFAULT>N</ISDEFAULT>
				<R>01</R>
				<DAYS>
					<D>2004-09-14</D>
					<PRICE>166.00</PRICE>
				</DAYS>
				<DAYS>
					<D>2004-09-16</D>
					<PRICE>160.00</PRICE>
				</DAYS>
				<CURRENCY>EUR</CURRENCY>
				<RATE-SEGMENT>GB4</RATE-SEGMENT>
			</RATE>
			<CANCELLATIONINFOS>
				<AUTHCODE>2584600965</AUTHCODE>
			</CANCELLATIONINFOS>
			<PERSON>
				<NAME>Kluge</NAME>
				<NAME2>Hans</NAME2>
				<SEX>1</SEX>
				<RN/>
				<ROOM-SEQ>0</ROOM-SEQ>
				<ROOM-PERS-SEQ>0</ROOM-PERS-SEQ>
				<PERS-TYPE>1A</PERS-TYPE>
				<CAT>4B</CAT>
				<PCAT>4Z</PCAT>
				<MATCHCODE-ADM>khans</MATCHCODE-ADM>
				<EXT-REFERENCE>E1234</EXT-REFERENCE>
				<VOUCHERNUMBER>V1234</VOUCHERNUMBER>
				<PERS-RATE>
					<ISDEFAULT>N</ISDEFAULT>
					<R>01</R>
					<DAYS>
						<D>2004-09-14</D>
						<PRICE>166.00</PRICE>
					</DAYS>
					<DAYS>
						<D>2004-09-16</D>
						<PRICE>160.00</PRICE>
					</DAYS>
					<CURRENCY>EUR</CURRENCY>
					<RATE-SEGMENT>GB0</RATE-SEGMENT>
				</PERS-RATE>
				<GUESTPROGRAMLIST>
					<GUESTPROGRAM>
						<GUESTPROGRAM-OBJID>4</GUESTPROGRAM-OBJID>
						<CENTRAL-GUESTPROGRAM-ID>1</CENTRAL-GUESTPROGRAM-ID>
						<STATE>DEFINITIVE</STATE>
					</GUESTPROGRAM>
				</GUESTPROGRAMLIST>
			</PERSON>
			<PERSON>
				<SEX>0</SEX>
				<ROOM-SEQ>1</ROOM-SEQ>
				<ROOM-PERS-SEQ>0</ROOM-PERS-SEQ>
				<CITY>Schiffweiler</CITY>
				<DOB>1975-04-27</DOB>
				<AGE>42</AGE>
				<EMAIL>e.dillinger@gubse.com</EMAIL>
				<COUNTRY>AU QLD OOL</COUNTRY>
				<COUNTRY-CODE>AU</COUNTRY-CODE>
				<STATE>QLD</STATE>
				<POST-AREA>OOL</POST-AREA>
				<NAME>Dernier</NAME>
				<PERS-TYPE>1A</PERS-TYPE>
				<TITLE>Dr.</TITLE>
				<COMMENT>Hofseite</COMMENT>
				<ADDRESS>1</ADDRESS>
				<NAME2>Hubert</NAME2>
				<PHONE>35468578</PHONE>
				<ZIP>D-907878</ZIP>
				<STREET>Landsweiler Str. 34</STREET>
				<FAX>6856756</FAX>
				<ARR>2004-09-14</ARR>
				<DEP>2004-09-18</DEP>
				<MATCHCODE-ADM>edill</MATCHCODE-ADM>
				<EXT-REFERENCE>E1234</EXT-REFERENCE>
				<VOUCHERNUMBER>V1234</VOUCHERNUMBER>
				<CAT>2B</CAT>
				<RN>102</RN>
				<PCAT>2Z</PCAT>
				<CENTRALGUEST-ID>354678
				</CENTRALGUEST-ID>
				<DISCOUNT-GROUP>RG2</DISCOUNT-GROUP>
				<CREDITALLOWED>TRUE</CREDITALLOWED>
				<GUEST-IDS>
					<CARD>
						<TYPE>SA</TYPE>
						<NUMBER>2F45A2C3000000</NUMBER>
					</CARD>
				</GUEST-IDS>
			</PERSON>
			<PERSON>
				<ROOM-SEQ>1</ROOM-SEQ>
				<ROOM-PERS-SEQ>1</ROOM-PERS-SEQ>
				<NAME>UNKNOWN</NAME>
				<NAME2>UNKNOWN</NAME2>
				<AUTO-GENERATED>Y</AUTO-GENERATED>
			</PERSON>
			<RESCHANNELLIST>
				<RESCHANNEL>
					<IDX>0</IDX>
					<MATCHCODE>WHOLESALER
					</MATCHCODE>
					<CENTRALGUEST-ID>123
					</CENTRALGUEST-ID>
					<CONTACT-ID>4455</CONTACT-ID>
					<COMMISSION>
						<PC>25.00</PC>
						<TOTAL>28.00</TOTAL>
					</COMMISSION>
				</RESCHANNEL>
				<RESCHANNEL>
					<IDX>1</IDX>
					<MATCHCODE>TRAVEL AGENT</MATCHCODE>
					<CENTRALGUEST-ID>666</CENTRALGUEST-ID>
					<CONTACT-ID>7843</CONTACT-ID>
					<COMMISSION>
						<PC>10.00</PC>
						<TOTAL>11.20</TOTAL>
					</COMMISSION>
				</RESCHANNEL>
			</RESCHANNELLIST>
			<CHECKLIST>
				<CHECKLISTENTRY>
					<TYPE>6</TYPE>
					<DATE>2004-09-14</DATE>
					<USER>ADM</USER>
				</CHECKLISTENTRY>
			</CHECKLIST>
			<APERS-TYPE-LIST>
				<PERS-TYPE>
					<TYPE>123</TYPE>
					<NO>1</NO>
				</PERS-TYPE>
				<PERS-TYPE>
					<TYPE>123</TYPE>
					<NO>1</NO>
				</PERS-TYPE>
			</APERS-TYPE-LIST>
			<FROMWEB>Y</FROMWEB>
			<LAST-MOD>2004-09-14T00:20:27</LAST-MOD>
			<STREET>Strasse</STREET>
			<COMMENT>KommentarInternet</COMMENT>
			<CAT>2B</CAT>
			<COUNTRY>AU QLD OOL</COUNTRY>
			<COUNTRY-CODE>AU</COUNTRY-CODE>
			<STATE>QLD</STATE>
			<POST-AREA>OOL</POST-AREA>
			<NOCHILDS>0</NOCHILDS>
			<ADDRESS>1</ADDRESS>
			<MATCHCODE>hjb0007157</MATCHCODE>
			<EMAIL1>e.dillinger@gubse.com</EMAIL1>
			<LANG>de</LANG>
			<PERS-TYPE>1A</PERS-TYPE>
			<ALLOTMENT-NO/>
			<MARKETCODE-NO>PRI1-4</MARKETCODE-NO>
			<OBJID>1372</OBJID>
			<GDSNO>200409140020270</GDSNO>
			<CENTRALGUEST-ID>55</CENTRALGUEST-ID>
			<PWD>ZuEM1MF8</PWD>
			<NAME>Kluge</NAME>
			<NAME2>Hans</NAME2>
			<DOB>1974-04-27</DOB>
			<FIDELITY-TYPE>WM</FIDELITY-TYPE>
			<NOPAX>22</NOPAX>
			<CCLIST>
				<CCTYPE>VI</CCTYPE>
				<HOLDER-NAME>Otto Handle</HOLDER-NAME>
				<CCHANDLE>08154711abcdef</CCHANDLE>
				<CCHANDLEVALIDUNTIL>2021-01-31
				</CCHANDLEVALIDUNTIL>

				<SERVICEPROVIDER/>
			</CCLIST>
			<INVOICEHOLDER-LIST>
				<INVOICEHOLDER>
					<PAYMENT-INST>0</PAYMENT-INST>
					<GUEST-TYPE>1</GUEST-TYPE>
					<MATCHCODE>AchAlt4711</MATCHCODE>
					<SERVICE-LIST>
						<SERVICEID>MB</SERVICEID>
						<SERVICEID>AEG</SERVICEID>
						<SERVICEID>HB</SERVICEID>
					</SERVICE-LIST>
					<SERVICETYPE-LIST>
						<SERVICETYPE>DI</SERVICETYPE>
						<SERVICETYPE>AU</SERVICETYPE>
					</SERVICETYPE-LIST>
				</INVOICEHOLDER>
			</INVOICEHOLDER-LIST>
			<CITY>Neunkirchen</CITY>
			<DEP>2004-09-18</DEP>
			<COMPANY/>
			<NOROOMS>8</NOROOMS>
			<ARR>2004-09-14</ARR>
			<ZIP>D-67786</ZIP>
			<RT>1</RT>
			<ALLOTMENT-NO>5</ALLOTMENT-NO>
			<ALLOTMENT-EXT-NO>223</ALLOTMENT-EXT-NO>
			<PHONE1>345676778</PHONE1>
			<FAX1>4357897865</FAX1>
			<CENTRAL-RESERVATION-ID>30045</CENTRAL-RESERVATION-ID>
			<CURRENCY>EUR</CURRENCY>
			<FIDELITY-NO>4236834FID</FIDELITY-NO>
			<PRE-AMOUNT/>
			<PRE-DETAILS/>
			<PRE-TYPE/>
			<SOURCE/>
			<DISCOUNT-GROUP>RG1</DISCOUNT-GROUP>
			<RATE-SEGMENT>K</RATE-SEGMENT>
			<VOUCHERNUMBER>123</VOUCHERNUMBER>
			<KTGEXTKEY/>
			<KTGSAISON/>
			<KTGSUBTYPE/>
			<OPTIONUNTIL/>
			<PAYID/>
			<DEFAULTPAYMENTTYPE>
				<PAYMENTTYPE>VI</PAYMENTTYPE>
				<BANK>
					<BANKNAME/>
					<BANKCODE/>
					<ACCOUNTNUMBER/>
				</BANK>
				<CCLIST>
					<CCVAL>2009-09-30</CCVAL>
					<CCNO>4111111111111111</CCNO>
					<CVC>2323</CVC>
					<CCTYPE>VI</CCTYPE>
					<HOLDER-NAME/>
					<CCHANDLE/>
					<CCHANDLEVALIDUNTIL/>
				</CCLIST>
			</DEFAULTPAYMENTTYPE>
			<MODIFYDATE/>
			<PROMOCODE/>
			<AGIFTVOUCHERLIST>
				<GIFTVOUCHER>
					<GV-TYPE>PMS</GV-TYPE>
					<GV-REF>036E-29ª4-DE4A-49B1</GV-REF>
				</GIFTVOUCHER>
				<GIFTVOUCHER>
					<GV-TYPE>PMS</GV-TYPE>
					<GV-REF>A1EC-9B83-F947-467C</GV-REF>
				</GIFTVOUCHER>
			</AGIFTVOUCHERLIST>
			<PAYMENT-INST>0</PAYMENT-INST>
		</RESERVATION>
	</ARESLIST>
</SIHOT-DOCUMENT>
```

Note: If <CURRENCY> is not set, the rate with hotel currency will be
applied.

### Elements/Attributes
<ARESLIST> contains any number of reservation elements
<RESERVATION>. Every reservation has up to four scopes. All
reservations inside <ARESLIST> are imported with the same reservation
number and client.

#### 1<sup>st</sup> scope: Reservation data

In the first scope are the attributes, which describe the client and the
data of the reserved rooms.
The following is to be considered:
<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RESERVATION</td>
<td>Block containing all reservation data</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>RT</td>
<td><table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Reservation</td>
</tr>
<tr class="even">
<td>2</td>
<td>Reservation not guaranteed</td>
</tr>
<tr class="odd">
<td>S</td>
<td>cancellation</td>
</tr>
<tr class="even">
<td>E</td>
<td>Error reservation, availability is not updated.</td>
</tr>
<tr class="odd">
<td>K</td>
<td>allotment</td>
</tr>
</tbody>
</table>
</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>GUEST-ID</td>
<td>If set, COMPANY and NAME will be ignored and the person or company with this unique SIHOT.PMS ID will be used.</td>
<td>Unsigned long</td>
<td>see note below</td>
</tr>
<tr class="even">
<td>COMPANY</td>
<td>If set, the client is a company and NAME must be empty.</td>
<td>String</td>
<td>Mandatory, if the client is a company, see note below</td>
</tr>
<tr class="odd">
<td>NAME</td>
<td>If set, the client is an individual guest and COMPANY must be empty.</td>
<td>String</td>
<td>Mandatory, if the client is an individual person, see note below</td>
</tr>
<tr class="even">
<td>NAME1X</td>
<td>Second Surname ( Spain)</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>NAME2</td>
<td>First name of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>ADDRESS</td>
<td><p>Address, e.g.:</p>
<table>
<tbody>
<tr class="odd">
<td>0</td>
<td>Company</td>
</tr>
<tr class="even">
<td>1</td>
<td>Mr</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Mrs</td>
</tr>
</tbody>
</table>

<p>This address is equal in SIHOT.WEB and SIHOT.PMS. They should by equal in external systems, too.</p></td>
<td>Short</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>SEX</td>
<td>M-&gt;male and F-&gt;female</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>STREET</td>
<td>Road of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CITY</td>
<td>Town of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>COUNTRY</td>
<td>Country string which is the concatenation of COUNTRY-CODE, STATE and POST-AREA.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COUNTRY-CODE</td>
<td>Country of the client (ISO 3166 (A2) coded)</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>STATE</td>
<td>State</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>POST-AREA</td>
<td>Region</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>NATION</td>
<td>Nation</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>ZIP</td>
<td>Postal code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PHONE1</td>
<td>Phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PHONE2</td>
<td>Alternative phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>FAX1</td>
<td>Fax number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>FAX2</td>
<td>Alternative fax number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>EMAIL1</td>
<td>e-mail</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EMAIL2</td>
<td>Alternative e-mail</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MOBIL1</td>
<td>Cell phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>INVOICE-EMAIL</td>
<td>The email address for invoices</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MOBIL2</td>
<td>Alternative cell phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MATCHCODE</td>
<td>SIHOT.PMS matchcode of the client</td>
<td>String</td>
<td>See note below</td>
</tr>
<tr class="even">
<td>VIP</td>
<td>VIP code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>VIP2</td>
<td>Alternative VIP code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOCUMENT-TYPE</td>
<td></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DOCUMENT-NUMBER</td>
<td></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOCUMENT-EXPEDITIONCOUNTRY</td>
<td></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DOCUMENT-EXPEDITIONDATE</td>
<td></td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOCUMENT-EXPIREDATE</td>
<td></td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOCUMENT-SUBNR</td>
<td></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOCUMENT-SUBNR2</td>
<td></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PWD</td>
<td>Internet password</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>ARR</td>
<td>Arrival date</td>
<td>Date</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>DEP</td>
<td>Departure date</td>
<td>Date</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>NOROOMS</td>
<td>Number of rooms</td>
<td>Integer</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>NOPAX</td>
<td>Number of adults</td>
<td>Integer</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>NOCHILDS</td>
<td>Number of childs (additional to NOPAX)</td>
<td>Integer</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CAT</td>
<td>Room category</td>
<td>String</td>
<td>Mandatory, but could be empty-&gt;PMS fallback</td>
</tr>
<tr class="even">
<td>PCAT</td>
<td><p>Price category (could differ from CAT)</p>
<p>If &lt;PCAT&gt; field will not be passed in, the value of the reservation will be kept. If there is no value in the reservation or the reservation has not been created yet, the rate category will be default to the value of the room category in the reservation. If this value is also empty it will be defaulted to the &lt;CAT&gt; field if the value is valid. If the value is still empty the price calculation will probably fail.</p>
<p>The rate category will be cleared out in a reservation modification and creation if a manual rate will be sent in. Even you pass a rate category together with a manual rate in the interface will clear the rate category due to the manual rate.</p></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXT-REFERENCE</td>
<td>External reference</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>OBJID</td>
<td>ObjID of the reservation. For reservation changes only</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>GDSNO</td>
<td>Unique number for this reservation</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>CCLIST</td>
<td><p>The &lt;CCLIST&gt; block contains all information about one credit card.</p>
<p>There can be several &lt;CCLIST&gt; blocks.</p>
<p>See table below for more details</p></td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COMMENT</td>
<td>Simple comments as plain text, short notes.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>FIDELITY-TYPE</td>
<td>Hotel short form of a fidelity card type (of SOL Melia, Miles&amp;More, SIHOT.WEB) (not required).</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>FIDELITY-NO</td>
<td>Number of the fidelity card of the guest (not required).</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PERS-TYPE</td>
<td>Guests person types</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>ALLOTMENT-NO</td>
<td>If there is a ALLOTMENT-NO set, the reservation is settled in this allotment</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>ALLOTMENT-EXT-NO</td>
<td>If there is a ALLOTMENT-EXT-NO set, the reservation is settled in this allotment</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MARKETCODE-NO</td>
<td>Market code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>TITLE</td>
<td>Title of the client</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>LANG</td>
<td>Language of the client (ISO 639 coded).</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DOB</td>
<td>Date-of-birth</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CCREFNO</td>
<td>Reference number for the credit card</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DISCOUNT-GROUP</td>
<td>Discount group</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXT-KEY</td>
<td>External key for the reservation</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DEPOSIT-DATE(i)</td>
<td>Up to 3 (i=1,2,3) different deposit dates could be set. Can be deleted in combination with the OVERWRITE-DEPOSIT flag</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DEPOSIT-AMOUNT(i)</td>
<td>Up to 3 deposit Amounts for the given DEPOSIT-DATEs. Can be deleted in combination with the OVERWRITE-DEPOSIT flag</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DEPOSIT-CURRENCY</td>
<td>Deposit currency</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CENTRALGUEST-ID</td>
<td>Central guest ID of the client</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CENTRAL-RESERVATION-ID</td>
<td>Central reservation ID of the reservation in a HQ system</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>RATE-SEGMENT</td>
<td>Segment for the rate</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>LOCK</td>
<td>Flag if this reservation is locked</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MEDIA</td>
<td>Reservation medium</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>SOURCE</td>
<td>The ID of the source system</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CHANNEL</td>
<td>Reservation channel ID</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>NN</td>
<td>Not named</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>NN2</td>
<td>Not named</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>ARR-TIME</td>
<td>Arrival time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DEP-TIME</td>
<td>Departure time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>T-POST-COMMISSION</td>
<td>Commission booked</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>T-CALC-COMMISSION</td>
<td>Commission calculated</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>ASSIGNED-TO</td>
<td>Assignment information</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DISABLE-DEPOSIT</td>
<td>Flag if deposit is disabled</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>POBOX</td>
<td>Postal code of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>FLAGS</td>
<td>Flags influence the reservation import. See table below. Values are separated by a semicolon (;)</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PRE-AMOUNT</td>
<td>Prepayment amount, already paid</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PRE-TYPE</td>
<td>Type of the prepayment. This has to be a valid payment type in SIHOT.PMS</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PRE-DETAILS</td>
<td>Details for the prepayment</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>TEC-COMMENT</td>
<td>Technical comment for the reservation.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>GUEST-TYPE</td>
<td>Guests person types</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXCLUSIVE-USE</td>
<td>In case that a room type is "Bed", if the room is solely used by this reservation. Mostly used for hostels.</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td><span id="OLE_LINK1" class="anchor"><span id="OLE_LINK2" class="anchor"></span></span>OPTIMISATION-TYPE</td>
<td>Type of the optimization of beds. Mostly used for hostels.</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXTERNAL-SYSTEM-ID</td>
<td>ID of the external system</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>Currency used</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXTERNAL-SYSTEM-GUESTID</td>
<td>Object ID of the external systems guest profile in SIHOT.PMS</td>
<td>Unsigned Long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CANCELLATIONINFOS</td>
<td>Block with cancellation information</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PAYMENT-INST</td>
<td>Payment instructions</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>VOUCHERNUMBER</td>
<td>The number of a voucher.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>KTGEXTKEY</td>
<td>The external key of an allotment.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>KTGSAISON</td>
<td>The seasonal information that can be a part of the external key.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>KTGSUBTYP</td>
<td>The subcategory of an allotment determines the uniqueness of the external key. The external key may require the seasonal information to be unique.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>OPTIONUNTIL</td>
<td>The option until date can be set manually. Otherwise it will be calculated if the reservation type is optional.</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PAYID</td>
<td>The transaction number of a credit card payment.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>AUTHAMOUNT</td>
<td>Amount already authorized</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EXTCOMMENT-C</td>
<td>External central comments</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>OUTPUTCOUNTER</td>
<td>Counter for outputs</td>
<td>Short</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DEFAULTPAYMENTTYPE</td>
<td>Block with information about a default payment type</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MODIFYUSER</td>
<td>Code if the user who modified the reservation</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>IATA</td>
<td>IATA code for the travel agency</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>RATE</td>
<td>Blocks with several rates belonging to the reservation, see table below</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CURRENCY</td>
<td>The currency of the rate</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CREATION-DATE</td>
<td>The creation date of the reservation</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>SALES-DATE</td>
<td>Sales date of the reservation, if not set it will be the current date</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>REASONFORCANCELLATION</td>
<td>Reason for cancellation</td>
<td>String</td>
<td>Mandatory, if a cancellation reason need is configured as compulsory</td>
</tr>
<tr class="odd">
<td>APERS-TYPE-LIST</td>
<td>List with person types used for this reservation (person types per room)</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="even">
<td>RESCHANNELLIST</td>
<td>List with reservation channels</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PROMOCODE</td>
<td>Promo-Code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>WEB-PRE-CHECKIN</td>
<td>Enables Reservation Flag</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PICKUP-TYPE-ARRIVAL</td>
<td>Pickup type e.g.: car, bus</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PICKUP-TIME-ARRIVAL</td>
<td>time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PICKUP-COMMENT-ARRIVAL</td>
<td>comment ( Length 10) for information like flight number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PICKUP-TYPE-DEPARTURE</td>
<td>Pickup type e.g.: car, bus</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PICKUP-TIME-DEPARTURE</td>
<td>time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PICKUP-COMMENT-DEPARTURE</td>
<td>comment ( Length 10) for information like flight number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>AUTOCANCEL</td>
<td>Indicates if reservation is in autocancel-mode</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>GUARANTEE-TYPE</td>
<td><p>Guarantee type:</p>
<ul>
<li><p>PP for PrePaid</p></li>
<li><p>CC for Credit Card</p></li>
</ul>
<p>If the Guarantee type is PrePaid the external system should ensure that the reservations is Pre Paid. The payment details need to be included in the reservation message.</p>
<p>In case of a Credit Card Guarantee the Credit Card should be transferred to SIHOT as a Token.</p></td>
<td>Char 2</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CANCELLATION-POLICY</td>
<td></td>
<td>Char 2</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>INVOICEHOLDER-LIST</td>
<td>List with payment instruction</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>NOTIFICATION</td>
<td>Block with Trace/Trail information</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="even">
<td>A-USERFIELD-LIST</td>
<td>List with data for user defined database fields</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COMMISSION</td>
<td>Block with commission information</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="even">
<td>POINTS-LIST</td>
<td>Block with bonus points information (e.g. Melia Rewards)</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>RES-NR</td>
<td>Reservation number</td>
<td>Long</td>
<td>Optional and only for modification</td>
</tr>
<tr class="even">
<td>SUB-NR</td>
<td>Sub-reservation number</td>
<td>Short</td>
<td>Optional and only for modification</td>
</tr>
<tr class="odd">
<td>CREDITALLOWED</td>
<td>Person on rooming list is credit-worthy</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>GUEST-IDS</td>
<td>List of GUEST-IDS for person on rooming list represented by CARDs</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>CARD</td>
<td>Guest identification card for person on rooming list</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>TYPE</td>
<td>Type of guest identification card</td>
<td>String</td>
<td>Mandatory for CARD</td>
</tr>
<tr class="odd">
<td>NUMBER</td>
<td>Number of guest identification card</td>
<td>String</td>
<td>Mandatory for CARD</td>
</tr>
<tr class="even">
<td>PAYMENT-INST</td>
<td><p>Account type:<br />
0 = Guest Account<br />
1 = Group Account</p>
<p>3 = Orderer Account</p></td>
<td>Short</td>
<td>Optional</td>
</tr>
</tbody>
</table>

**Note:**
The elements MATCHCODE, NAME/COMPANY and GUEST-ID are mutually
exclusive.
#### Elements in CANCELLATIONINFOS:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>AUTHCODE</td>
<td>The value of the AUTHCODE has been got in a previous SS-Request. The AUTHCODE is used in order to ensure that the cancellation-conditions according the rule-handling weren’t changed between the two calls. This attribute is only relevant for cancellations to test it with the newest authcode. If the attribute is set and don’t match with the newest authcode, the cancellation is rejected.</td>
<td>String</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in DEFAULTPAYMENTTYPE:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PAYMENTTYPE</td>
<td>Block with payment type information</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CCLIST</td>
<td>Block with detailed credit card data, see table below</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>BANK</td>
<td>Block with bank data</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in BANK:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BANKNAME</td>
<td>Name of the bank</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>BANKCODE</td>
<td>Code of the bank</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>ACCOUNTNUMBER</td>
<td>Account number of the bank</td>
<td>Long</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements of CCLIST:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CCVAL</td>
<td>Expire date of the credit card, format yyyy-mm-dd</td>
<td>Date</td>
</tr>
<tr class="even">
<td>CCNO</td>
<td>Credit card number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>CVC</td>
<td>Card validation code</td>
<td>String</td>
</tr>
<tr class="even">
<td>CCTYPE</td>
<td>Credit card type</td>
<td>String</td>
</tr>
<tr class="odd">
<td>HOLDER-NAME</td>
<td>Name of the credit card owner</td>
<td>String</td>
</tr>
<tr class="even">
<td>CCHANDLE</td>
<td>Credit card handle/token/key/pseudo card number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>CCHANDLEVALIDUNTIL</td>
<td>Handle is valid until this date</td>
<td>Date</td>
</tr>
<tr class="even">
<td>CCREFNO</td>
<td>External reference</td>
<td>String</td>
</tr>
<tr class="odd">
<td>SERVICEPROVIDER</td>
<td><p>Name of the provider for the handle:</p>
<ul>
<li><p>Adyen</p></li>
<li><p>Adyen_tokenizer</p></li>
<li><p>Conexflow</p></li>
<li><p>Datatrans</p></li>
<li><p>Datatrans_tokenizer</p></li>
<li><p>ElPay</p></li>
<li><p>Novainfo</p></li>
<li><p>Global</p></li>
<li><p>Flexicom</p></li>
<li><p>Hotel-O-Mat</p></li>
<li><p>ZVT</p></li>
<li><p>Bancomer</p></li>
<li><p>Paymentech</p></li>
<li><p>NetAcquirer</p></li>
<li><p>3C</p></li>
<li><p>XML-CC</p></li>
<li><p>Sermepa</p></li>
<li><p>WBI</p></li>
<li><p>SIX</p></li>
<li><p>CompuTop</p></li>
<li><p>viaConex</p></li>
<li><p>SiPay</p></li>
<li><p>SaferPay</p></li>
<li><p>Web2Pay</p></li>
<li><p>MerchantLink</p></li>
<li><p>Tyro</p></li>
<li><p>PayPlace</p></li>
</ul>
<p>If you are connected to a provider which is not listed, keep the element empty.</p></td>
<td>String</td>
</tr>
<tr class="even">
<td>EXT-ADD-REF</td>
<td>Additional field to store information from payment provider</td>
<td>String</td>
</tr>
<tr class="odd">
<td>EXT-ADD-REF-TYPE</td>
<td>Additional field to store information from payment provider</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Elements of ``RATE``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>R</td>
<td>Package code</td>
<td>String</td>
</tr>
<tr class="even">
<td>ISDEFAULT</td>
<td>Flag, if this is the default rate, at least 1 RATE-Element needs to have a "Y"</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>PRICE</td>
<td>Price for this rate</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>QUANTITY</td>
<td>Number of times the rate is used</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>DAYS</td>
<td>Block with daily rates</td>
<td></td>
</tr>
<tr class="even">
<td>DAYS/D</td>
<td>Date</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>DAYS/PRICE</td>
<td>Price for this date</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>DAYS/FROM</td>
<td>From date, when time span is used. Either from and to date or date can be sent</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>DAYS/TO</td>
<td>to date, when time span is used</td>
<td>Date</td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>Currency used (default: Hotel currency)</td>
<td>String</td>
</tr>
<tr class="odd">
<td>RATE-SEGMENT</td>
<td>Rate segment of the rate</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Elements in ``CHECKLIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CHECKLISTENTRY</td>
<td>Check list for one user</td>
<td></td>
</tr>
<tr class="even">
<td>TYPE</td>
<td>Type</td>
<td>String</td>
</tr>
<tr class="odd">
<td>DATE</td>
<td>Date</td>
<td>Date</td>
</tr>
<tr class="even">
<td>USER</td>
<td>User ID</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Elements in ``APERS-TYPE-LIST``

<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PERS-TYPE</td>
<td>One Block for each guest type used</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>PERS-TYPE/TYPE</td>
<td>Guest type</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>PERS-TYPE/NO</td>
<td>Number of guests with this type</td>
<td>Short</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

#### Elements in ``FLAGS``

<table>
<thead>
<tr class="header">
<th>Flag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UPDATE-ORDERER-PROFILE</td>
<td>If the client profile already exists, it will be updated</td>
</tr>
<tr class="even">
<td>UPDATE-CONTACT-PROFILE</td>
<td>The contact profile is not updated by default</td>
</tr>
<tr class="odd">
<td>IGNORE-OVERBOOKING</td>
<td>Availability is ignored during reservation import</td>
</tr>
<tr class="even">
<td>NO-FALLBACK-TO-ERRONEOUS</td>
<td>Erroneous reservations aren’t imported, but an error is returned.</td>
</tr>
<tr class="odd">
<td>DELETE-EMPTY-VALUES</td>
<td>Empty XML Tags will delete the corresponding value, see hints below.</td>
</tr>
<tr class="even">
<td>IGNORE-EMPTY-VALUES</td>
<td>Empty XML Tags are not evaluated, see hints below.</td>
</tr>
<tr class="odd">
<td>NO-AUTO-EMAIL</td>
<td>If the flag "NO-AUTO-EMAIL" is set no automatic email will be triggered.</td>
</tr>
<tr class="even">
<td>APPLY-RATES-TO-PERSONS</td>
<td>If the flag "APPLY-RATES-TO-PERSONS" is set the blog &lt;PERS-RATE&gt; will be ignored and apply the rate from the reservation to the rooming list.</td>
</tr>
<tr class="odd">
<td>OVERWRITE-DEPOSIT</td>
<td>This flag allows overwriting the deposit data even to wipe it out.</td>
</tr>
<tr class="even">
<td>ENABLE-AUTOMATIC-PROCESSING</td>
<td>This flags enables the reservation for automatic processing of task e.g. post.</td>
</tr>
<tr class="odd">
<td>ACTIVATE-GROUP</td>
<td>If set, the reservations are imported as one group reservation.</td>
</tr>
<!--tr class="even">
<td>OVERWRITE-BOOKINGCONDITION</td>
<td>Booking conditions as set in the package for the reservation are ignored and empty values are allowed.</td>
</tr-->
<!--Not implemented-->
<tr class="odd">
<td>DO-NOT-UPDATE-RESDATA</td>
<td>This flag stops the reservation from being updated except for cancellations</td>
</tr>
<tr class="even">
<td>WITHROOMINGLISTCHECK</td>
<td>this flag matches the new rooming list into the old one instead of just overwriting it with the new information</td>
</tr>
<tr class="odd">
<td>KEEP-PROTECTED-SERVICES</td>
<td>if set, old protected services will not be deleted if the new ones doesn't contain a matching one</td>
</tr>
<tr class="even">
<td>OVERWRITE-DEPOSIT</td>
<td>if set, the deposit can be overwritten or even deleted</td>
</tr>
</tbody>
</table>

#### Elements in ``RESCHANNELLIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RESCHANNEL</td>
<td>One Block for each reservation channel</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>IDX</td>
<td>Index of the reservation channel (0=client, 1 = travel agency, 2 = travel point)</td>
<td>Short</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>ISPRICEOWNER</td>
<td>Flag, if this res channel is the price owner of the reservation</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MATCHCODE</td>
<td>Matchcode for this channel</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CENTRALGUEST-ID</td>
<td>Central guest ID for this channel</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CONTACT-ID</td>
<td>ID of the contact person</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>CONTACT-MATCHCODE-SM</td>
<td>MATCHCODE-SM of the contact person</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CONTACT-EMAIL</td>
<td>e-mail of the contact person</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>IATA</td>
<td>IATA code for travel agencies</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>COMMISSION</td>
<td>Block with commission data for this channel, only one of the following fields should be filled</td>
<td></td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COMMISSION/PC</td>
<td>Percentage</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>COMMISSION/TOTAL</td>
<td>Total amount</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MATCHCODE-SM</td>
<td>Matchcode-SM</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>GUEST-TYPE</td>
<td><p>Guests Type, e.g.:</p>
<table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Guest</td>
</tr>
<tr class="even">
<td>2</td>
<td>Company</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Agency</td>
</tr>
</tbody>
</table>
</td>
<td>Short</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in ``INVOICEHOLDER-LIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>INVOICEHOLDER</td>
<td>One Block for each Account Type</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>PAYMENT-INST</td>
<td><p>Account type:<br />
0 = Guest Account<br />
1 = Group Account</p>
<p>3 = Orderer Account</p></td>
<td>Short</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>OBJID</td>
<td>Number of guests with this type</td>
<td>Short</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CENTRALGUEST-ID</td>
<td>Central guest ID for this invoice holder</td>
<td>Unsigned long</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>IATA</td>
<td>IATA code for travel agencies</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MATCHCODE</td>
<td>Matchcode</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MATCHCODE-SM</td>
<td>Matchcode-SM</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>GUEST-TYPE</td>
<td><p>Guests Type, e.g.:</p>
<table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Guest</td>
</tr>
<tr class="even">
<td>2</td>
<td>Company</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Agency</td>
</tr>
</tbody>
</table>
</td>
<td>Short</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>NAME</td>
<td>Sure name</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>NAME2</td>
<td>First name</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>ADDRESS</td>
<td><p>Address, e.g.:</p>
<table>
<tbody>
<tr class="odd">
<td>0</td>
<td>Company</td>
</tr>
<tr class="even">
<td>1</td>
<td>Mr</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Mrs</td>
</tr>
</tbody>
</table>

<p>This address is equal in SIHOT.WEB and SIHOT.PMS. They should by equal in external systems, too.</p></td>
<td>Short</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>STREET</td>
<td>Road of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>ZIP</td>
<td>Postal code</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CITY</td>
<td>Town of the client</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>EMAIL1</td>
<td>e-mail</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>EMAIL2</td>
<td>Alternative e-mail</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>INVOICE-EMAIL</td>
<td>The email address for invoices</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>PHONE1</td>
<td>Phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PHONE2</td>
<td>Alternative phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>FAX1</td>
<td>Fax number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>FAX2</td>
<td>Alternative fax number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>MOBIL1</td>
<td>Cell phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>MOBIL2</td>
<td>Alternative cell phone number</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>COUNTRY</td>
<td>Country string which is the concatenation of COUNTRY-CODE, STATE and POST-AREA.</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COUNTRY-CODE</td>
<td>Country of the client (ISO 3166 (A2) coded)</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>STATE</td>
<td>State</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>POST-AREA</td>
<td>Region</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>LANG</td>
<td>Language</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>SERVICE-LIST</td>
<td>List of SERVICEIDs</td>
<td>SERVICE-LIST</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>SERVICETYPE-LIST</td>
<td>List of SERVICETYPEs</td>
<td>SERVICETYPE-LIST</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in Block ``PREPAYMENT``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TRANSID</td>
<td>Transaction ID of the payment</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>AMOUNT</td>
<td>Deposit amount</td>
<td>Decimal</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>CURRENCY</td>
<td>Deposit currency</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CCTYPE</td>
<td>Credit card type</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>CCTERMINAL-ID</td>
<td>The terminal ID</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>CCAPPROVAL-NO</td>
<td>The approval number of the transaction</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>PROCESSING-DATE</td>
<td>The processing date of the transaction</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>REFERENCE</td>
<td>Reference of the payment</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>INVOICE-EMAIL</td>
<td>The email address for sending the pre-payment invoice. This email address is only used for this transaction</td>
<td>String</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in Block ``NOTIFICATION``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DATE</td>
<td>Trace Date</td>
<td>Date</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>TIME</td>
<td>Trace Time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>COMMENT</td>
<td>Trace Comment</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>STATUS</td>
<td>Trace Status</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>USER</td>
<td>Trace User</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>LOCATION</td>
<td>Trace Location</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>DESC</td>
<td>Trace Description</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>TYPE</td>
<td>Trace SubType</td>
<td>String</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

#### Elements in Block ``A-USERFIELD-LIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>USERFIELD</td>
<td>One Block for each field is used</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>FIELD</td>
<td>User Table field name</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>VALUE</td>
<td>User Table field value</td>
<td>String</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in Block ``COMMISSION``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PC</td>
<td>Percentage</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>SID</td>
<td>Service</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>TOTAL</td>
<td>Total Amount</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in Block ``POINTS-LIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>POINTS</td>
<td>One Block for each field is used</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>VALUE</td>
<td>Value of 1 point (default 1)</td>
<td>Decimal</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>AMOUNT</td>
<td>Amount of points ( e.g. in Euro)</td>
<td>Decimal</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>DESCRIPTION</td>
<td>Information (e.g. card level)</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>REFERENCE</td>
<td>Information (e.g. card holder)</td>
<td>String</td>
<td>Optional</td>
</tr>
</tbody>
</table>

#### Elements in Block ``SERVICE-LIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SERVICEID</td>
<td>The ID of the service.</td>
<td>String</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

#### Elements in Block ``SERVICETYPE-LIST``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SERVICETYPE</td>
<td>The ID of the service type.</td>
<td>String</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

#### Elements in Block ``GUESTPROGRAM``
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GUESTPROGRAM-OBJID</td>
<td>Identification of the guestprogram for adding a membership of a guest (Either ObjID or CentralID must be set)</td>
<td>Unsigned Long</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>CENTRAL-GUESTPROGRAM-ID</td>
<td>Identification of the guestprogram for adding a membership of a guest (Either ObjID or CentralID must be set)</td>
<td>Unsigned Long</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>STATE</td>
<td>State of the membership: DEFINITIVE, CANCELED or WAITINGLIST</td>
<td>String</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

#### Empty XML Tags
As there are several fields mandatory in our PMS which should not be
deleted or modified in any dangerous way, the flag DELETE-EMPTY-VALUES
does not work with every field. Here’s the list of fields which are
generally not deleted and to which these flags have influence:
<table>
<tbody>
<tr class="odd">
<td>ADDRESS</td>
<td>ARR-TIME</td>
<td>ASSIGNED-TO</td>
</tr>
<tr class="even">
<td>CCREFNO</td>
<td>CREATION-DATE</td>
<td>CVC</td>
</tr>
<tr class="odd">
<td>DEP-TIME</td>
<td>DEPOSIT-AMOUNT(i)</td>
<td>DEPOSIT-DATE(i)</td>
</tr>
<tr class="even">
<td>DISABLE-DEPOSIT</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>EXCLUSIVE-USE</td>
<td>EXTCOMMENT-C</td>
<td>EXTERNAL-SYSTEM-ID</td>
</tr>
<tr class="even">
<td>IATA</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>LANG</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>MARKETCODE-NO</td>
<td>MEDIA</td>
<td>MODIFYUSER</td>
</tr>
<tr class="odd">
<td>OPTIMISATION-TYPE</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>PAYMENT-INST</td>
<td>PCAT</td>
<td>PERS-TYPE</td>
</tr>
<tr class="odd">
<td>POBOX</td>
<td>PRE-DETAILS</td>
<td>PRE-TYPE</td>
</tr>
<tr class="even">
<td>RATE-SEGMENT</td>
<td>PWD</td>
<td></td>
</tr>
<tr class="odd">
<td>SALES-DATE</td>
<td>SOURCE</td>
<td></td>
</tr>
<tr class="even">
<td>TITLE</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>VIP</td>
<td>VIP2</td>
<td>VOUCHERNUMBER</td>
</tr>
</tbody>
</table>

**Comments:**  
Short and simple comments such as "breakfast included", "smoker", etc.
could be transmitted in the field `<COMMENT>`. Large comments, such as
the entire reservation data from external channels, guest comments from
web pages, etc. should be transferred inside `<TEC-COMMENT>`.
As XML does not support line breaks, they could be forced with "|CR|",
for example:
`<TEC-COMMENT>line1|CR|line2<TEC-COMMENT>`  
**Country settings:**  
There are two ways to set up the country specifics for the reservation.
You have the possibility to set the entire configuration over the
`<COUNTRY>` tag. 

The format you have to use is the following:
`<COUNTRY>\[COUNTRY CODE\] \[STATE\] \[POST AREA/REGION\]</COUNTRY>`  

- \[COUNTRY CODE\] maximum 3 characters
- \[STATE\] maximum 3 characters
- \[POST AREA/REGION\] maximum 3 characters  

For instance:
`<COUNTRY>AU QLD OOL</COUNTRY>`

Furthermore you have the possibility to set each value separately with
the following tags:  

- `<COUNTRY-CODE>` - maximum 3 characters
- `<STATE>` - maximum 3 characters
- `<POST-AREA>` - maximum 3 characters

We are recommending either to use the `<COUNTRY>` tag or the single tags
to set it. If you use both simultaneously the values from the
`<COUNTRY>` tag will be overwritten by the single tags.

**Mandatory fields**  
The first scope contains the following mandatory fields for all external
systems and for SIHOT.PMS:
`<GDSNO>`,
`<ARR>`,
`<DEP>`,
`<CAT>`,
`<NOPAX>`,
`<NOROOMS>`,
`<NAME>` or `<COMPANY>`.

With reservations from external systems is `<PRICE-TOTAL>` a mandatory
field.
With reservations for SIHOT.PMS, `<MATCHCODE>` and `<PWD>` are mandatory
fields.
In the second scope is to be differentiated between the transmission of
SIHOT.WEB on SIHOT.PMS and an external system and SIHOT.WEB as follows:
#### 2<sup>nd</sup> scope: reservation direction
For each reservation send from SIHOT.WEB to SIHOT.PMS, the second scope
has to contain the reserved service (`<RATE>` ). At least one `<RATE>`
block is needed, since otherwise no service would be reserved.
`<ISDEFAULT>`  = Y means, that this is the reservation’s standard
arrangement.
`<DAYS>` contains the number of days, for which the service will be
booked.
If this element contains a tag `<PRICE>`, the service will be booked at
that price. Otherwise the default price of the SIHOT master data is
used.
If the `<RATE>` element contains a tag `<CURRENCY>`, the price of the
rate will be calculated in this currency.
#### 3<sup>rd</sup> scope: Contact
The third scope transmits the contact persons (`<CONTACT>`). Only one
contact person is allowed. The optional declaration of a contact person
is allowed, if the client is a company. Only `<NAME>` or `<EMAIL1>` has
to be set in the element `<CONTACT>`.  
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NAME1</td>
<td>Last name</td>
<td>String</td>
</tr>
<tr class="even">
<td>NAME2</td>
<td>First name</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ADDRESS</td>
<td>Salutation (for Germans: NOT Addresse!)</td>
<td>Char</td>
</tr>
<tr class="even">
<td>STREET</td>
<td>Road</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ZIP</td>
<td>Postal code</td>
<td>String</td>
</tr>
<tr class="even">
<td>CITY</td>
<td>Town</td>
<td>String</td>
</tr>
<tr class="odd">
<td>EMAIL1</td>
<td>e-mail</td>
<td>String</td>
</tr>
<tr class="even">
<td>EMAIL2</td>
<td>Alternative e-mail</td>
<td>String</td>
</tr>
<tr class="odd">
<td>INVOICE-EMAIL</td>
<td>The email address for invoices</td>
<td>String</td>
</tr>
<tr class="even">
<td>PHONE2</td>
<td>Alternative phone number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>FAX1</td>
<td>Fax number</td>
<td>String</td>
</tr>
<tr class="even">
<td>FAX2</td>
<td>Alternative fax number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>MOBIL1</td>
<td>Cell phone number</td>
<td>String</td>
</tr>
<tr class="even">
<td>MOBIL2</td>
<td>Alternative cell phone number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>PERS-TYPE</td>
<td>Type of person</td>
<td>String</td>
</tr>
<tr class="even">
<td>MATCHCODE</td>
<td>Matchcode</td>
<td>String</td>
</tr>
<tr class="odd">
<td>MATCHCODE-SM</td>
<td>Matchcode-SM</td>
<td>String</td>
</tr>
<tr class="even">
<td>VIP</td>
<td>VIP code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>VIP2</td>
<td>Alternative VIP Code</td>
<td>String</td>
</tr>
<tr class="even">
<td>GUEST-ID</td>
<td>OBJID of the contract profile</td>
<td>Unsigned long</td>
</tr>
<tr class="odd">
<td>CENTRAL-CONTACT-ID</td>
<td>Central ID of the contact profile</td>
<td>Unsigned long</td>
</tr>
</tbody>
</table>

#### 4rd scope: Persons
The fourth scope contains the persons of the name list (<PERSON>).
As <CONTACT> this element is an optional element, too. Only <NAME>
or <EMAIL> has to be set in <PERSON>.
<SEX> contains the sex: 1 = female, 0 = male.
<ROOM-SEQ> and <ROOM-PERS-SEQ> are used to assign the persons into
rooms. Please note that the counter starts with zero.
Example:
<ROOM-SEQ> = 0, <ROOM-PERS-SEQ> = 1 means:
1.  Room, 
2.  Person
Within the scope of the person, there can be a definition of the rates
and prices to be applied to the guest. With this function the system
could apply, e.g. room only on the first person, a breakfast for the
second person and a massage for the 3<sup>rd</sup> person in the room.
The structure is equal to <RATE> on the level of the person. Here we
have <PERS-RATE>. Both structures should be filled.
Elements in PERSON:
<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ROOM-SEQ</td>
<td>Sequence number for the persons room</td>
<td>Short</td>
</tr>
<tr class="even">
<td>ROOM-PERS-SEQ</td>
<td>Sequence number of the person in its room</td>
<td>Short</td>
</tr>
<tr class="odd">
<td>GUEST-ID</td>
<td>If set, all other input will be ignored and the guest with this unique SIHOT.PMS ID will be used.</td>
<td>Unsigned long</td>
</tr>
<tr class="even">
<td>NAME</td>
<td>Last name</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NAME1X</td>
<td>Second Surname ( Spain)</td>
<td>String</td>
</tr>
<tr class="even">
<td>NAME2</td>
<td>First name</td>
<td>String</td>
</tr>
<tr class="odd">
<td>STREET</td>
<td>street</td>
<td>String</td>
</tr>
<tr class="even">
<td>ZIP</td>
<td>Postal code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>CITY</td>
<td>Town of the person</td>
<td>String</td>
</tr>
<tr class="even">
<td>CITY2</td>
<td>Additional information about the town</td>
<td>String</td>
</tr>
<tr class="odd">
<td>DOB</td>
<td>Date of birth</td>
<td>Date</td>
</tr>
<tr class="even">
<td>AGE</td>
<td>Age of the person</td>
<td>Short [0 – 130]</td>
</tr>
<tr class="odd">
<td>COUNTRY</td>
<td>Country string which is the concatenation of COUNTRY-CODE, STATE and POST-AREA</td>
<td>String</td>
</tr>
<tr class="even">
<td>COUNTRY-CODE</td>
<td>Country of the client (ISO 3166 (A2) coded)</td>
<td>String</td>
</tr>
<tr class="odd">
<td>STATE</td>
<td>State where the person lives</td>
<td>String</td>
</tr>
<tr class="even">
<td>POST-AREA</td>
<td>Region where the person lives</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NATION</td>
<td>Nation</td>
<td>String</td>
</tr>
<tr class="even">
<td>TITLE</td>
<td>Code for title, e.g. "0"=Dr.</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>ADDRESS</td>
<td>Code for salutation</td>
<td>Char</td>
</tr>
<tr class="even">
<td>PERS-ADDRESS or<br />
P-ADDRESS</td>
<td><p>Personal Address, e.g.:</p>
<table>
<tbody>
<tr class="odd">
<td>0</td>
<td>Dear Sir or Madam,</td>
</tr>
<tr class="even">
<td>1</td>
<td>Dear Mr</td>
</tr>
<tr class="odd">
<td>2</td>
<td>Dear Ms</td>
</tr>
</tbody>
</table>

<p>This personal address is equal in SIHOT.WEB and SIHOT.PMS. They should by equal in external systems, too.</p></td>
<td>Char</td>
</tr>
<tr class="odd">
<td>SEX</td>
<td>M-&gt;male and F-&gt;female</td>
<td>Char</td>
</tr>
<tr class="even">
<td>PHONE</td>
<td>Phone number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>FAX</td>
<td>Fax number</td>
<td>String</td>
</tr>
<tr class="even">
<td>EMAIL</td>
<td>e-mail</td>
<td>String</td>
</tr>
<tr class="odd">
<td>COMMENT</td>
<td>Short comment</td>
<td>String</td>
</tr>
<tr class="even">
<td>FB-COMMENT</td>
<td>Food &amp; Beverage comment</td>
<td>String</td>
</tr>
<tr class="odd">
<td>KITCHEN-COMMENT</td>
<td>Kitchen comment</td>
<td>String</td>
</tr>
<tr class="even">
<td>PO-BOX (obsolete: POBOX)</td>
<td>Postal code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ARR</td>
<td>The guests’ arrival date. If not set, the arrival date from the reservation is used</td>
<td>Date</td>
</tr>
<tr class="even">
<td>DEP</td>
<td>The guests departure date</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>PERS-TYPE</td>
<td>Guest type</td>
<td>String</td>
</tr>
<tr class="even">
<td>SEX</td>
<td>Gender</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>CAT</td>
<td>Room type (could differ from the one set in the reservation data)</td>
<td>String</td>
</tr>
<tr class="even">
<td>PCAT</td>
<td>Room type for rate calculation</td>
<td>String</td>
</tr>
<tr class="odd">
<td>MULTOC</td>
<td>Flag if multiple categories are supported</td>
<td>Char</td>
</tr>
<tr class="even">
<td>LANG</td>
<td>The guests language</td>
<td>String</td>
</tr>
<tr class="odd">
<td>INTERNET-PWD</td>
<td>The guests internet password</td>
<td>String</td>
</tr>
<tr class="even">
<td>MATCHCODE</td>
<td>Matchcode</td>
<td>String</td>
</tr>
<tr class="odd">
<td>DISCOUNT-GROUP</td>
<td>Discount group</td>
<td>String</td>
</tr>
<tr class="even">
<td>CENTRALGUEST-ID</td>
<td>Central guest ID</td>
<td>Unsigned long</td>
</tr>
<tr class="odd">
<td><span id="OLE_LINK12" class="anchor"></span>ARR-TIME</td>
<td>Arrival time of the guest</td>
<td>Time</td>
</tr>
<tr class="even">
<td>DEP-TIME</td>
<td>Departure time of the guest</td>
<td>Time</td>
</tr>
<tr class="odd">
<td>RN</td>
<td>Room number</td>
<td>String</td>
</tr>
<tr class="even">
<td>STATUS</td>
<td>Status of the person</td>
<td>String</td>
</tr>
<tr class="odd">
<td>VIP</td>
<td>VIP code</td>
<td>String</td>
</tr>
<tr class="even">
<td>VIP2</td>
<td>Alternative VIP code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ADDRESS-CORRESPONDENCE</td>
<td>The guests address for correspondence</td>
<td>String</td>
</tr>
<tr class="even">
<td>NAME-CORRESPONDENCE</td>
<td>The guests name for correspondence</td>
<td>String</td>
</tr>
<tr class="odd">
<td>PERS-RATE</td>
<td>Block with the guests rates</td>
<td></td>
</tr>
<tr class="even">
<td>R</td>
<td>Package/service code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ISDEFAULT</td>
<td>Flag if it is the default rate</td>
<td>Char</td>
</tr>
<tr class="even">
<td>QUANTITY</td>
<td>Number of times this package is booked</td>
<td>Short</td>
</tr>
<tr class="odd">
<td>DAYS</td>
<td>Block with day and price information</td>
<td></td>
</tr>
<tr class="even">
<td>D</td>
<td>Day</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>PRICE</td>
<td>Amount</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>DOCUMENT-TYPE</td>
<td></td>
<td>String</td>
</tr>
<tr class="odd">
<td>DOCUMENT-NUMBER</td>
<td></td>
<td>String</td>
</tr>
<tr class="even">
<td>DOCUMENT-EXPEDITIONCOUNTRY</td>
<td></td>
<td>String</td>
</tr>
<tr class="odd">
<td>DOCUMENT-EXPEDITIONDATE</td>
<td></td>
<td>Date</td>
</tr>
<tr class="even">
<td>DOCUMENT-EXPIREDATE</td>
<td></td>
<td>Date</td>
</tr>
<tr class="odd">
<td>AUTO-GENERATED</td>
<td>Unknown guest won’t be stored in DB</td>
<td>Char</td>
</tr>
<tr class="even">
<td>T-SPECIAL-MEAL</td>
<td>ID for a special meal, by example for allergic persons</td>
<td>String</td>
</tr>
</tbody>
</table>

### Answer OC:RES
If an error occurs during the transmission, an error message is sent to
SIHOT.WEB:

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
<OC>RES</OC>
<ID>1</ID>
<TN>1</TN>
<RC>1</RC>
<MSG>Error Message</MSG>
</SIHOT-DOCUMENT>
```
The answer from SIHOT.PMS to SIHOT.WEB or from SIHOT.WEB to an external
system can look e. g. in such a way, if the transmission was successful:

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-Document>
<SIHOT-Version>
<Version>9.0.0.0000</Version>
<EXE>D:\\sihot\\sinetres.exe</EXE>
</SIHOT-Version>
<TN>1</TN>
<ID>1</ID>
<OC>RES</OC>
<RC>0</RC>
<OBJID>4711</OBJID>
<GDSNO>UNIQUEGDSNUMBER</GDSNO>
<RESERVATIONACCOUNT-ID>1234</RESERVATIONACCOUNT-ID>
</SIHOT-Document>
```
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>OBJID</td>
<td>Unique ID for this reservation</td>
<td>Unsigned long</td>
</tr>
<tr class="even">
<td>GDSNO</td>
<td>Same GDS number as transferred in the request</td>
<td>String</td>
</tr>
<tr class="odd">
<td>RESERVATIONACCOUNT-ID</td>
<td>Account id for the reservation account, if a reservation account exists</td>
<td>Unsigned long</td>
</tr>
</tbody>
</table>

### Error Messages
The following error messages are possible:
<table>
<thead>
<tr class="header">
<th>RC</th>
<th>MSG</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>PROCESSING OF THIS MESSAGE FAILED</td>
<td>An unexpected error occurred during the search for the reservations. For further information check the log file named “SIHOTTOWEB.log”.</td>
</tr>
<tr class="even">
<td>23</td>
<td>FAULT DURING READING RESERVATIONS FROM DATABASE</td>
<td>An error occurred during the reading of the reservation from the database.</td>
</tr>
<tr class="odd">
<td>24</td>
<td>GUEST DATA OF RESERVATION WITH SIHOT.WEB RES. NO. –XY- COULD NOT TRANSFORMED TO XML</td>
<td>The data of the client and/or the future elements under &lt;RESERVATION&gt; could not be converted to XML. The reservation number is the internal reservation number of SIHOT.WEB.</td>
</tr>
<tr class="even">
<td>25</td>
<td>SERVICES FROM RESERVATION WITH SIHOT.WEB RES. NO. –XY- COULD NOT TRANSFORMED TO XML</td>
<td>The services and/or arrangements under the future elements &lt;RATE&gt; could not be converted to XML. The reservation number is the internal reservation number of SIHOT.WEB.</td>
</tr>
<tr class="odd">
<td>26</td>
<td>GUEST GROUPS FROM RESERVATION WITH SIHOT.WEB RES. NO. –XY- COULD NOT TRANSFORMED TO XML</td>
<td>The person groups under the future elements &lt;APERS-TYPE-LIST&gt; could not be converted to XML. The reservation number is the internal reservation number of SIHOT.WEB.</td>
</tr>
<tr class="even">
<td>27</td>
<td>CONTACT PERSON FROM RESERVATION WITH SIHOT.WEB RES. NO. -$- COULD NOT TRANSFORMED TO XML</td>
<td>The contact person, under the future element &lt;CONTACT&gt; could not be converted to XML. The reservation number is the internal reservation number of SIHOT.WEB.</td>
</tr>
<tr class="odd">
<td>28</td>
<td>NAMELIST FROM RESERVATION WITH SIHOT.WEB RES. NO. -$- COULD NOT TRANSFORMED TO XML</td>
<td>The persons of the name list, under the future elements &lt;PERSON&gt; could not be converted to XML. The reservation number is the internal reservation number of SIHOT.WEB.</td>
</tr>
<tr class="even">
<td>29</td>
<td>NO RESERVATIONS FOUND</td>
<td>No reservations were found.</td>
</tr>
<tr class="odd">
<td>30</td>
<td>RESERVATION TRANSMISSION WAS NOT SUCCESSFUL</td>
<td>Transmission of reservations to SIHOT.PMS failed.</td>
</tr>
</tbody>
</table>

## Transmission of encrypted reservations
In order to save secure data from foreign access, SIHOT.WEB can send
reservations with encrypted data to SIHOT.PMS. This is done with the AES
algorithm.

### Direction

SIHOT.PMS ← SIHOT.WEB

### Message OC: ``RES_AES``

```XML
<?xml version="1.0"
encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
  <OC>RES_AES</OC>
  <ID>1</ID>
  <TN>1</TN>
  <RC>0</RC>
  <MSG>OK</MSG>
  <CONTENT>ME/DkcvfruqcF0Dz1A/5yihG+RHNwRbj8WifySLq9T/t8sJUtcMhAGJ1fFAC6AL+wm0LmqMjIuLgMI+KsbLkCAVWjSeze9lq6LaiP3jwWZzKiwGNlKxJAIjWx5aMN2ITJTk1EK9PMJdJ8rFFQZqOdTGVhMxZt3okl3uNDg2V/ySiVOZ9khVMbO9hHS6vR5Dih9RklSb1E/VIRIdEce/7E0PXj/5vRy0UTLjwZh8x8xbTSlS8umn0e9Z5Cdb6B0DLLR6DIV1uKuNXng/IlgDiNXP0BWng2Lb+iATGgfTxNiknbjRTwAr1+K/6mwEVvt2PE7UtOzpONaGdhZzGQNBDdX1zqb1Wlhl1SV3xAVcX8uQYqwKMCusufL4VD/XaUiExXAaGUsTxmdh9Lx1S1q+EwwazRcHY6US4zs9bf9XqqiKDdLBe4uVRYNu38jo2LNWOHCOiOn0Jvici0TFlULP2n7Z9PXnMtSgu+GpyFvXe1r5AuHLusqaACKqBYZrlfy2Slkakh8u5FodAkWjN3KqfrxILUIozgS66HR2TyPsMY90/yuQM7t9pU+ZchhJL6AuUXT2RON0UFQobbwBwDbpg2IsKIfn+8Y5ud1MDS6S4AMncofKJBUdWx09o4w+nT00O6C3UbrngpMZpG5gHoh1NcNwH9vdwYJJ5PXeRsYJHmbND3GI9HxCUx4N+7NLPcjEeYHnHIzGn5FauGscXktgv4xaSqYu0WNtNosbBORv7QloCfq4cs4RFAaY5i6Uz0uC3gE2Mfmo9Ut+IOZd6P1SdtX4Uzb33lEUjr1AaVnAaLdUwjPwBGd0yoPXcY/ewEyizug7OEgEIA9TMI+LlTXsScYz+0WrbXaT1VyvZTxAohKgBCoU8iOnPEH9G1AGvTGSuhSoKq3vkr7sO7bLdavGHY9hnP5upQ2sb7D7Fq1hXX5E=
  </CONTENT>
</SIHOT-DOCUMENT>
```
The attribute <CONTENT> contains the element <ARESLIST>.
<ARESLIST> was AES (128 Bit) encrypted first and then Base64 coded.
To decode the content of <CONTENT>, you have to decode it by Base64
and decrypt it by AES. Therefore you need a private key, which has to be
on the SIHOT.WEB and SIHOT.PMS side.
The private key has to be allocated during the configuration.
SIHOT.WEB only sends reservations from type RES\_AES, if SIHOT.PMS
supports the function AES (see Transmission of supported functions).

## Request for reservations by SIHOT.PMS
With a loss, or purpose adjustment, SIHOT.PMS can request the
transmission of reservations from SIHOT.WEB. SIHOT.WEB can also request
a specific reservation.

### Direction
SIHOT.PMS → SIHOT.WEB (only <OC>S</OC>)
SIHOT.PMS ← SIHOT.WEB (only <OC>SS</OC>)
### Message OC:S
SIHOT.PMS requests the reservations not transferred yet (S) of
SIHOT.WEB.  
This function is deprecated and should not be used any more.

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
  <OC>S</OC>
  <ID>1</ID>
  <TN>1</TN>
</SIHOT-DOCUMENT>
```
The answer is a structure of the type <OC>RES</OC>.

### Message OC: ``SS``
SIHOT.WEB requests a specific reservation (SS) from SIHOT.PMS. The purpose is to verify that the reservation in both systems is equal even when the reservation has changed within SIHOT.PMS.

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
  <OC>SS</OC>
  <ID>1</ID>
  <TN>1</TN>
  <GDSNO>4711<GDSNO>
  <CENTRAL-RESERVATION-ID><CENTRAL-RESERVATION-ID>
  <SCOPE>scope1;scope2;…</SCOPE>
</SIHOT-DOCUMENT>
```
<table>
<thead>
<tr class="header">
<th>Elements</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GDSNO</td>
<td>Unique GDS number of this reservation</td>
<td>String</td>
</tr>
<tr class="even">
<td>CENTRAL-RESERVATION-ID</td>
<td>Unique central ID of this reservation in a HQ system</td>
<td>Unsigned long</td>
</tr>
<tr class="odd">
<td>SCOPE</td>
<td>See table below</td>
<td>String</td>
</tr>
<tr class="even">
<td>RES-NR</td>
<td>Reservation number</td>
<td>Long</td>
</tr>
<tr class="odd">
<td>SUB-NR</td>
<td>Reservation sub number</td>
<td>Short</td>
</tr>
<tr class="even">
<td>TN</td>
<td>Transaction number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>OBJID</td>
<td>Unique ID of the reservation in SIHOT.PMS</td>
<td>Unsigned long</td>
</tr>
</tbody>
</table>

Regarding to the attribute SCOPE the request returns additional
information. Following scopes are handled:
<table>
<thead>
<tr class="header">
<th>SCOPE</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BASICDATAONLY</td>
<td>Only basic reservation data is returned</td>
</tr>
<tr class="even">
<td>CALCTOTALPRICE</td>
<td>Information about the total rates are returned, see table below</td>
</tr>
<tr class="odd">
<td>RETURNRESERVATIONACCOUNT-ID</td>
<td>Returns RESERVATIONACCOUNT-ID if a reservation account exists</td>
</tr>
<tr class="even">
<td>RETURNCOMPONENTS</td>
<td>Adds A-COMPONENT-LIST-PMS to the answer</td>
</tr>
<tr class="odd">
<td>RETURNCANCELLATIONINFOS</td>
<td>Adds CANCELLATIONINFOS to the answer, if rule handling is activated.</td>
</tr>
<tr class="even">
<td>RETURNRULEINFOS</td>
<td>Adds RULE Blocks to every RATE Block</td>
</tr>
<tr class="odd">
<td>FORCECALCDAYPRICE</td>
<td>Adds DAY-PRICE to every RATE Block</td>
</tr>
<tr class="even">
<td>CALCSUMDAYPRICE</td>
<td>Adds SUM_DAY_PRICE to every RATE Block</td>
</tr>
<tr class="odd">
<td>SENDONLYMAINCATEGORY</td>
<td>Returns the main category if the reservation category is a sub category</td>
</tr>
<tr class="even">
<td>DONTSENDIDS</td>
<td>Removes CENTRALGUEST-ID, RES-HOTEL, RES-NR, SUB-NR, OBJID, CENTRAL-RESERVATION-ID from the response</td>
</tr>
<tr class="odd">
<td>DONTSENDPOINTRATES</td>
<td>Removes point rates from the response</td>
</tr>
<tr class="even">
<td>ONLYRATESFORHOTEL</td>
<td>Checks the booking code of the package and returns only those that are available for the hotel</td>
</tr>
<tr class="odd">
<td>DONTSENDPRICES</td>
<td>Removes daily rates from the response</td>
</tr>
<tr class="even">
<td>USEISODATE</td>
<td>Returns dates in iso code (instead hotel specific day format)</td>
</tr>
<tr class="odd">
<td>NORATES</td>
<td>Removes all rates from the response</td>
</tr>
<tr class="even">
<td>NOPERSONS</td>
<td>Removes guests from the response</td>
</tr>
<tr class="odd">
<td>NORESCHANNELS</td>
<td>Removes reservation channels from the response</td>
</tr>
<tr class="even">
<td>NOPERSTYPES</td>
<td>Removes APERS-TYPE-LIST from the response</td>
</tr>
<tr class="odd">
<td>NOCCLIST</td>
<td>Removes CCLIST from the response</td>
</tr>
<tr class="even">
<td>NOFIDELITY</td>
<td>Removes FIDELITYLIST from the response</td>
</tr>
<tr class="odd">
<td>NOFIDELITYORDERER</td>
<td>Removes FIDELITYORDERERLIST inside ORDERER Block</td>
</tr>
<tr class="even">
<td>NOTIMESHARE</td>
<td>Removes TIMESHARE-DETAILS</td>
</tr>
<tr class="odd">
<td>NOKTG</td>
<td>Removes KTG fields from the response</td>
</tr>
<tr class="even">
<td>NOORDERER</td>
<td>Removes the orderer from the response</td>
</tr>
<tr class="odd">
<td>NODEPOSIT</td>
<td>Removes DEPOSIT-DATE(i) and DEPOSIT-AMOUNT(i) from the response</td>
</tr>
<tr class="even">
<td>EXPORTEXTENDEDCOMMENT</td>
<td>Adds extended comments to COMMENT Element</td>
</tr>
<tr class="odd">
<td>DONTSENDCENTRALCOMMENT</td>
<td>Removes EXTCOMMENT-C</td>
</tr>
<tr class="even">
<td>CONVERTRESTYPESFORPMS</td>
<td>Converts timeshare reservation types to standard PMS reservation types (Hapimag only)</td>
</tr>
<tr class="odd">
<td>CUTOFFRESMOVETAGFROMGDSNO</td>
<td>Removes res move data from GDS number (Hapimag only)</td>
</tr>
<tr class="even">
<td>TIMESHAREDETAILS</td>
<td>Adds TIMESHARE-DETAIL to the response</td>
</tr>
<tr class="odd">
<td>CALCSUMROOMPRICE</td>
<td>Sums are calculated for each room</td>
</tr>
<tr class="even">
<td>CALCLOSTPOINTS</td>
<td>Adds LOST_POINT_INFO to the answer (Hapimag only)</td>
</tr>
<tr class="odd">
<td>EXPORTPREFERABLYLASTREALUSER</td>
<td>LAST-MOD and LAST-MOD-BY uses real user data only</td>
</tr>
<tr class="even">
<td>NODAYPRICE</td>
<td>Removes day prices from the response</td>
</tr>
<tr class="odd">
<td>CALCEXCLUDEDREVENUE</td>
<td>Adds the total excluded revenue price. If this scope is set, the TOTAL-PRICE includes the excluded revenues.</td>
</tr>
<tr class="even">
<td>RETURNGUESTPROGRAMINFOS</td>
<td>In RES-SEARCH request, information about guestprograms will be returned</td>
</tr>
<tr class="odd">
<td>GETRELATEDINVOICES</td>
<td>This flag returns all related invoices to the returned reservation back. Considered are invoices from reservation, guest, client and misc. folios.</td>
</tr>
</tr>
<tr class="even">
<td>DEPOSITSTATUS</td>
<td>This flag returns additional information regarding the deposit status of a reservation. </td>
</tr>
</tbody>
</table>

### Answer
The answer is a structure of the type <OC>RES</OC>, and additionally
it includes the following elements (depending on the scope):
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PRICE_TOTAL</td>
<td>Total price for the package/service</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>PRICE_CUR</td>
<td>Total rate in exchange currency</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>SUM_DAY_PRICE</td>
<td>Sum of all rates</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>SUM_DAY_PRICE_TOTAL</td>
<td>Total sum of all rates</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>SUM_DAY_CURRENCY</td>
<td>Currency for the sum</td>
<td>String</td>
</tr>
<tr class="even">
<td>CREATION-DATE</td>
<td>Day of creation</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>CREATION-TIME</td>
<td>Time of creation</td>
<td>Time</td>
</tr>
<tr class="even">
<td>CREATED-BY</td>
<td>User code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>INSURANCETYPE</td>
<td>Type of insurance</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Additional elements with scope CALCTOTALPRICE

<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TOTAL-PRICE</td>
<td>Total rate gross or net</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>TOTAL-PRICE-GROSS</td>
<td>Total rate gross</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>TOTAL-PRICE-NET</td>
<td>Total rate net</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>TOTAL-UNDISCOUNTED-PRICE</td>
<td>Without discount</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>TOTAL-UNDISCOUNTED-PRICE-GROSS</td>
<td>Without discount gross</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>TOTAL-UNDISCOUNTED-PRICE-NET</td>
<td>Without discount net</td>
<td>Decimal</td>
</tr>
</tbody>
</table>

#### Additional elements with scope CALCEXCLUDEDREVENUE

<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TOTAL-EXCLUDED-REVENUE</td>
<td>Total excluded revenue</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>TOTAL-WITHOUT-EXCLUDED-REVENUE</td>
<td>Total without excluded revenue</td>
<td>Decimal</td>
</tr>
</tbody>
</table>

#### Additional elements with scope A-COMPONENT-LIST-PMS

<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>COMPONENT</td>
<td>Block with a single component</td>
<td></td>
</tr>
<tr class="even">
<td>SID</td>
<td>Service code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>PRICE</td>
<td>Sales with this component</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>NUM-POSTINGS</td>
<td>Number of postings of this component</td>
<td>Long</td>
</tr>
</tbody>
</table>

#### Additional elements with scope CANCELLATIONINFOS:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RULECOST</td>
<td>Block with single rule costs</td>
<td></td>
</tr>
<tr class="even">
<td>AMOUNT</td>
<td>Costs</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>RULEID</td>
<td>ID of this rule</td>
<td>String</td>
</tr>
<tr class="even">
<td>RULENAME</td>
<td>Name of the rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>DATE</td>
<td>Date</td>
<td>Date</td>
</tr>
<tr class="even">
<td>TYPE</td>
<td>Type of the rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>CURRENCY</td>
<td>Currency for the amount</td>
<td>String</td>
</tr>
</tbody>
</table>

Beside the RULECOST Blocks, following elements are returned inside Block
CANCELLATIONINFOS:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SUMFEE</td>
<td>Sum of SUMHANDLINGFEE and SUMDAILYFEE</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>SUMHANDLINGFEE</td>
<td>Service charge cost</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>SUMDAILYFEE</td>
<td>Daily cost</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>SUM_CURRENCY</td>
<td>Block with rulecost data for different currencies</td>
<td></td>
</tr>
<tr class="odd">
<td>CURRENCY</td>
<td>Currency used</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Additional elements with scope RETURNRULEINFOS:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RULE</td>
<td>Block with single rule information</td>
<td></td>
</tr>
<tr class="even">
<td>RULEID</td>
<td>ID of the given rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>RULENAME</td>
<td>Name of the given rule</td>
<td>String</td>
</tr>
<tr class="even">
<td>L-COMMENTS</td>
<td>List of comments for this rule</td>
<td></td>
</tr>
<tr class="odd">
<td>VALIDASOF</td>
<td>Rule is valid from</td>
<td>Date</td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>Currency used for this rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NOTOLERANCEDAYS</td>
<td>Number of tolerance days</td>
<td>Long</td>
</tr>
<tr class="even">
<td>USAGETYPE</td>
<td>Usage description for this rule</td>
<td>Long</td>
</tr>
<tr class="odd">
<td>CALCOPT</td>
<td>Options for this rule</td>
<td>Long</td>
</tr>
<tr class="even">
<td>OLDRESTYPE</td>
<td>Old reservation type</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>NEWRESTYPE</td>
<td>New reservation type</td>
<td>Char</td>
</tr>
<tr class="even">
<td>TIMEENTRY</td>
<td>Block with single time entry information</td>
<td></td>
</tr>
<tr class="odd">
<td>DAYBEFOREARR</td>
<td>Number of days before arrival</td>
<td>Long</td>
</tr>
<tr class="even">
<td>CHARGEFACTOR</td>
<td>Charge percentage</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>MINPERDAY</td>
<td>Minimum amount per day</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>MAXPERDAY</td>
<td>Maximum amount per day</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>NOMAXDAYS</td>
<td>Maximum Number of days</td>
<td>Long</td>
</tr>
<tr class="even">
<td>HANDLINGFEE</td>
<td>Service charges</td>
<td>Decimal</td>
</tr>
</tbody>
</table>

#### Additional elements with scope TIMESHARE-DETAIL:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SERIALNR</td>
<td>Serial number for this timeshare</td>
<td>String</td>
</tr>
<tr class="even">
<td>REFNR</td>
<td>Reference number</td>
<td>String</td>
</tr>
<tr class="odd">
<td>SAISON</td>
<td>Saison code</td>
<td>String</td>
</tr>
<tr class="even">
<td>POINTS</td>
<td>Number of points</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>WEEKS-OR-ROOMS</td>
<td>Number of weeks and rooms</td>
<td>Short</td>
</tr>
<tr class="even">
<td>TYPE</td>
<td>Timeshare type</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Additional elements with scope RELATED-INVOICE-LIST:
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>INVOICE</td>
<td>Block with a single invoice information</td>
<td></td>
</tr>
<tr class="even">
<td>HOTEL-NO</td>
<td>Hotel number where the invoice was issued</td>
<td>long</td>
</tr>
<tr class="odd">
<td>INVOICE-NO</td>
<td>Invoice number</td>
<td>long</td>
</tr>
<tr class="even">
<td>INVOICE-NUMBERSET</td>
<td>The invoice number set where the invoice was created in</td>
<td>String</td>
</tr>
<tr class="odd">
<td>EXTERNAL-INVOICE-NO</td>
<td>The external invoice number, if configured</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Additional elements with scope DEPOSITSTATUS
<table>
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="even">
<td>DEPOSIT-IN-ALLOWED</td>
<td>Indicates if the deposit is allowed. Possible values: <table><tr><td>Y</td><td>Allowed</td></tr><tr><td>N</td><td>Not allowed</td></tr></table></td>
<td>Char</td>
</tr>
<tr class="odd">
<td>DEPOSIT-IN-STATUS</td>
<td>The status of the deposit. Possible values: 
<table>
<tbody>
<tr><td>1</td><td>At least one person from the reservation is checked in</td></tr>
<tr><td>2</td><td>At least one person from the reservation is checked out</td></tr>
<tr><td>3</td><td>Reservation is cancelled, no-show or similar</td></tr>
<tr><td>4</td><td>Arrival date is earlier than today</td></tr>
<tr><td>5</td><td>Reservation is fully paid</td></tr>
</tbody>
</table>
</td>
<td>Short</td>
</tr>
<tr class="even">
<td>DEPOSIT-IN-DESC</td>
<td>Description of the deposit status.</td>
<td>String</td>
</tr>
<tr class="odd">
<td>DEPOSIT-IN-REQUIRED</td>
<td>The defined deposit amount required for the reservation.</td>
<td>Integer</td>
</tr>
<tr class="even">
<td>DEPOSIT-IN-DUE</td>
<td>The amount due for the deposit.</td>
<td>Integer</td>
</tr>
<tr class="odd">
<td>DEPOSIT-IN-PAID</td>
<td>The amount of the deposit that has been paid.</td>
<td>Integer</td>
</tr>
<tr class="even">
<td>DEPOSIT-IN-DATE</td>
<td>The due date for the deposit.</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>DEPOSIT-IN-CURRENCY</td>
<td>The currency in which the deposit is to be paid.</td>
<td>String</td>
</tr>
</tbody>
</table>

### Answer OC:RES
If no reservations could be found after a S request, SIHOT.WEB sends the
following answer to SIHOT.PMS:

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<OC>RES</OC>
	<ID>1</ID>
	<TN>1</TN>
	<RC>29</RC>
</SIHOT-DOCUMENT>
```
For error messages see chapter <OC>RES</OC>.
If an error occurs during the S or SA request, an error message is sent
to SIHOT.PMS. An error code “0” means that no error occurred.

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<OC>RES</OC>
	<ID>1</ID>
	<TN>1</TN>
	<RC>1</RC>
	<MSG>error message</MSG>
</SIHOT-DOCUMENT>
```
If the scope contains CALCTOTALPRICE following additional information is returned in the RESERVATION-Block:

```xml
<RESERVATION>
	…
	<TOTAL-PRICE>20</TOTAL-PRICE>
	<TOTAL-HSP>104</TOTAL-HSP>
	<!-- if Main-season points exists -->
	<TOTAL-NSP>84</TOTAL-NSP>
	<!-- if Low-season points exists ->configured -->
	…
</RESERVATION>
```

| Attribute   | Description                                         | Data type |
|-------------|-----------------------------------------------------|-----------|
| TOTAL-PRICE | total price                                         | Decimal   |
| TOTAL-HSP   | total Main-season points (if configured and exists) | Integer   |
| TOTAL-NSP   | total Low-season points (if configured and exists)  | Integer   |


If the scope contains RETURNCANCELLATIONINFOS following additional
information is returned in the RESERVATION-Block:

```xml
<RESERVATION>
…
	<CANCELLATIONINFOS>
		<RC>0</RC>
		<ERRMSG/>
		<AUTHCODE>1567902572</AUTHCODE>
		<RULECOST>
			<AMOUNT>15</AMOUNT>
			<RULEID>R1</RULEID>
			<RULENAME>Rule 1</RULENAME>
			<DATE/>
			<TYP>0</TYP>
			<CURRENCY/>
		</RULECOST>
		<RULECOST>
			<AMOUNT>20</AMOUNT>
			<RULEID>R1</RULEID>
			<RULENAME>Rule 1</RULENAME>
			<DATE>2008-10-23</DATE>
			<TYP>1</TYP>
			<CURRENCY>USD</CURRENCY>
		</RULECOST>
…
		<SUMFEE>678.50</SUMFEE>
		<SUMHANDLINGFEE>15.50</SUMHANDLINGFEE>
		<SUMDAILYFEE>663</SUMDAILYFEE>
		<SUM_CURRENCY>
			<CURRENCY>USD</CURRENCY>
			<SUMFEE>100.0</SUMFEE>
			<SUMHANDLINGFEE>80.00</SUMHANDLINGFEE>
			<SUMDAILYFEE>20.00</SUMDAILYFEE>
		</SUM_CURRENCY>
	</CANCELLATIONINFOS>
…
</RESERVATION>
```

<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>CANCELLATIONINFOS</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>RC</td>
<td><table>
<tbody>
<tr class="odd">
<td>0</td>
<td>get-cancellationinfos succeed</td>
</tr>
<tr class="even">
<td>1</td>
<td>get-cancellationinfos failed</td>
</tr>
</tbody>
</table>
</td>
<td></td>
</tr>
<tr class="odd">
<td>ERRMSG</td>
<td>Error-message, if RC = 1</td>
<td>String</td>
</tr>
<tr class="even">
<td>AUTHCODE</td>
<td>The AUTHCODE is used in order to ensure that the cancellation-conditions according the rule-handling didn’t be changed between this SS-request and a subsequent RES-request (see RES-request).</td>
<td>String</td>
</tr>
<tr class="odd">
<td>SUMFEE</td>
<td>Sum of all fees (no foreign currencies).</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>SUMHANDLINGFEE</td>
<td>Sum of all handling fees (no foreign currencies).</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>SUMDAILYFEE</td>
<td>Sum of all daily fees (no foreign currencies).</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>RULECOST</td>
<td>Block for information about a separate rule cost.</td>
<td>String</td>
</tr>
<tr class="odd">
<td>AMOUNT</td>
<td>amount</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>RULEID</td>
<td>ID of the rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>RULENAME</td>
<td>Name of the rule</td>
<td>String</td>
</tr>
<tr class="even">
<td>DATE</td>
<td>The date for the daily fee</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>TYP</td>
<td><table>
<tbody>
<tr class="odd">
<td>0</td>
<td>Handling fee</td>
</tr>
<tr class="even">
<td>1</td>
<td>Daily fee</td>
</tr>
</tbody>
</table>
</td>
<td>Char</td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>Currency of the rule cost or empty, if no foreign currency.</td>
<td>String</td>
</tr>
<tr class="odd">
<td>SUM_CURRENCY</td>
<td>Block for information about sums of rule costs for foreign currencies.</td>
<td></td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>The foreign currency for the block SUM_CURRENCY</td>
<td>String</td>
</tr>
<tr class="odd">
<td>SUMFEE</td>
<td>Sum of all fees for the foreign currency.</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>SUMHANDLINGFEE</td>
<td>Sum of all handling fees for the foreign currency.</td>
<td>Decimal</td>
</tr>
<tr class="odd">
<td>SUMDAILYFEE</td>
<td>Sum of all daily fees for foreign currency.</td>
<td>Decimal</td>
</tr>
</tbody>
</table>

If the scope contains RETURNRULEINFOS following additional information
is returned in the RATE-Block:

```xml
<RATE>
…
	<RULE>
		<RULEID>R1</RULEID>
		<RULENAME>Rule 1</RULENAME>
		<L-COMMENTS>
			<COMMENT>
				<LANG>DE</LANG>
				<T>…</T>
			</COMMENT>
			<COMMENT>
				<LANG>EN</LANG>
				<T>…</T>
			</COMMENT>
		</L-COMMENTS>
		<VALIDASOF>2008-10-23</VALIDASOF>
		<CURRENCY>EUR</CURRENCY>
		<NOTOLERANCEDAYS>2</NOTOLERANCEDAYS>
		<USAGETYPE>1</USAGETYPE>
		<USAGETYPE>2</USAGETYPE>
…
		<CALCOPT>1</CALCOPT>
		<CALCOPT>2</CALCOPT>
…
		<OLDRESTYPE>1</OLDRESTYPE>
		<OLDRESTYPE>2</OLDRESTYPE>
		<NEWRESTYPE>S</NEWRESTYPE>
		<TIMEENTRY>
			<DAYBEFOREARR>50</DAYBEFOREARR>
			<CHARGEFACTOR>100</CHARGEFACTOR>
			<MINPERDAY>0</MINPERDAY>
			<MAXPERDAY>10000</MAXPERDAY>
			<NOMAXDAYS>0</NOMAXDAYS>
			<HANDLINGFEE>15</HANDLINGFEE>
		</TIMEENTRY>
		<TIMEENTRY>
…
		</TIMEENTRY>
	</RULE>
	<RULE>
…
	</RULE>
…
</RATE>
```

<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RULE</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>RULEID</td>
<td>ID of the rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>RULENAME</td>
<td>Name of the rule</td>
<td>String</td>
</tr>
<tr class="even">
<td>L-COMMENTS</td>
<td>Description of the rule in all languages</td>
<td></td>
</tr>
<tr class="odd">
<td>VALIDASOF</td>
<td>Valid as of</td>
<td>Date</td>
</tr>
<tr class="even">
<td>CURRENCY</td>
<td>Currency of the rule</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NOTOLERANCEDAYS</td>
<td>Number of tolerance days</td>
<td>Integer</td>
</tr>
<tr class="even">
<td>CALCOPT</td>
<td><table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Calculate handling fees only once per day/reservation no</td>
</tr>
<tr class="even">
<td>2</td>
<td>Calculate daily fees only once per day/reservation no</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Do not apply handling fees on the day of entering the reservation</td>
</tr>
<tr class="even">
<td>8</td>
<td>Do not apply daily fees on the day of entering the reservation</td>
</tr>
<tr class="odd">
<td>16</td>
<td>Calculate ‘days before arrival’ every day for daily fees</td>
</tr>
<tr class="even">
<td>32</td>
<td>Calculate daily fees only for logis-costs</td>
</tr>
<tr class="odd">
<td>64</td>
<td>Apply rule also after arrival</td>
</tr>
</tbody>
</table>
</td>
<td>Integer</td>
</tr>
<tr class="odd">
<td>USAGETYPE</td>
<td><table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Reservation cancellation</td>
</tr>
<tr class="even">
<td>2</td>
<td>Shorten period</td>
</tr>
<tr class="odd">
<td>4</td>
<td>Extend period</td>
</tr>
<tr class="even">
<td>8</td>
<td>Move period</td>
</tr>
<tr class="odd">
<td>16</td>
<td>Upgrade category</td>
</tr>
<tr class="even">
<td>32</td>
<td>Downgrade category</td>
</tr>
</tbody>
</table>
</td>
<td>Integer</td>
</tr>
<tr class="even">
<td>TIMEENTRY</td>
<td>Block for information of an entry in the time scale</td>
<td></td>
</tr>
</tbody>
</table>

## Transmission of cancelled reservations

SIHOT.WEB can directly transmit cancelled reservations, if the
reservation already exists in the PMS.

### Direction
SIHOT.PMS ← SIHOT.WEB

### Message OC:RES-CANCEL

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
  <OC>RES-CANCEL</OC>
  <ID>1</ID>
  <TN>1</TN>
  <ARESLIST>
    <RESERVATION>
      <RT>S</RT>
      <GDSNO>67890</GDSNO>
      <CENTRAL-RESERVATION-ID>12345</CENTRAL-RESERVATION-ID>
    </RESERVATION>
  </ARESLIST>
</SIHOT-DOCUMENT>
```

### Elements/Attributes

<table>
<thead>
<tr class="header">
<th>Elements</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>RT</td>
<td>Type of reservation, needs to be a cancellation type</td>
<td>Char</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>GDSNO</td>
<td>Unique GDS number of the reservation to be cancelled</td>
<td>String</td>
<td><p>Both fields are mutually</p>
<p>Exclusive mandatory</p></td>
</tr>
<tr class="odd">
<td>CENTRAL-RESERVATION-ID</td>
<td>Unique central ID of the reservation in a HQ system</td>
<td>Unsigned long</td>
<td></td>
</tr>
<tr class="even">
<td>REASONFORCANCELLATION</td>
<td>Reason for cancellation</td>
<td>String</td>
<td>Mandatory, if a cancellation reason need is configured as compulsory</td>
</tr>
<tr class="odd">
<td>CREATE-AUTOTRAIL-INTR</td>
<td>Flag if a trail is set. By example an e-mail is sent to the reservation client</td>
<td>Char</td>
<td>Optional</td>
</tr>
</tbody>
</table>

### Answer OC:RES-CANCEL
#### Successful cancellation: <RC>0</RC>

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-Document>
	<SIHOT-Version>
		<Version>9.0.0.0</Version>
		<EXE>D:\\sihot\\sinetres.exe</EXE>
	</SIHOT-Version>
	<TN>1</TN>
	<ID>1</ID>
	<OC>RES-CANCEL</OC>
	<RC>0</RC>
	<MSG>reservation with GDSNO: 123456789 successfully cancelled</MSG>
	<MSG-LIST></MSG-LIST>
</SIHOT-Document>
```
#### Unsuccessful cancellation
When an error occurs, the return code ( <RC> ) contains a non-zero
value: <RC>1</RC>. The message tag (<MSG>) contains further
information.
Samples:
<table>
<thead>
<tr class="header">
<th>Error message</th>
<th>Possible reasons</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>invalid reservation type given</td>
<td>The element in the cancel-request &lt;RT&gt; contains a wring reservation type which does not indicate a cancelled reservation.</td>
</tr>
<tr class="even">
<td>Reservation with GDSNO: ABC not successfully cancelled</td>
<td>The reservation with the given GDS number does not exist</td>
</tr>
<tr class="odd">
<td>no gdsno or central-reservation-id given</td>
<td>One if the required fields &lt;GDSNO&gt; or &lt;CENTRAL-RESERVATION-ID&gt; is given or both values are empty.</td>
</tr>
</tbody>
</table>

## Transmission of reservation notifications

SIHOT.WEB can directly transmit notifications as reservation “traces/trail”, if the reservation already exists in the PMS.

### Direction
SIHOT.PMS ← SIHOT.WEB

### Message OC ``RES-NOTIFICATION``

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<OC>RES-NOTIFICATION</OC>
	<TN>1</TN>
	<GDSNO>20160102</GDSNO>
	<NOTIFICATION>
		<STATUS>0</STATUS>
		<COMMENT>comment</COMMENT>
		<DESC>desc</DESC>
		<USER>AES</USER>
		<TYPE>2</TYPE>
		<TIME>11:11:00</TIME>
		<DATE>2016-01-02</DATE>
		<LOCATION>BAR</LOCATION>
	</NOTIFICATION>
</SIHOT-DOCUMENT>
```
### Elements/Attributes

<table>
<thead>
<tr class="header">
<th>Elements</th>
<th>Description</th>
<th>Data type</th>
<th>Mandatory</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NOTIFICATION</td>
<td>Block for the trace elements</td>
<td></td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>GDSNO</td>
<td>Unique GDS number of the reservation</td>
<td>String</td>
<td>*Mandatory</td>
</tr>
<tr class="odd">
<td>CENTRAL-RESERVATION-ID</td>
<td>Unique central ID of the reservation in a HQ system</td>
<td>Unsigned Long</td>
<td>*</td>
</tr>
<tr class="even">
<td>RES-NR</td>
<td>Number</td>
<td>Signed INT</td>
<td>*</td>
</tr>
<tr class="odd">
<td>SUB-NR</td>
<td>Subnumber</td>
<td>Signed INT</td>
<td></td>
</tr>
<tr class="even">
<td>DATE</td>
<td>Trace Date</td>
<td>Date</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>TIME</td>
<td>Trace Time</td>
<td>Time</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>COMMENT</td>
<td>Trace Comment</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>STATUS</td>
<td>Trace Status</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>USER</td>
<td>Trace User</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>LOCATION</td>
<td>Trace Location</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>DESC</td>
<td>Trace Description</td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>TYPE</td>
<td>Trace Sub Type</td>
<td>String</td>
<td>Mandatory</td>
</tr>
</tbody>
</table>

### Answer OC ``RES-NOTIFICATION``

#### Successful cancellation: <RC>0</RC>

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-Document>
	<SIHOT-Version>
		<Version>9.0.0.0</Version>
		<EXE>D:\\sihot\\sinetres.exe</EXE>
	</SIHOT-Version>
	<OC>RES-NOTIFICATION</OC>
	<TN>1</TN>
	<ID>754</ID>
	<RC>0</RC>
	<MSG>OK</MSG>
</SIHOT-Document>
```
#### Unsuccessful cancellation

When an error occurs, the return code ( <RC> ) contains a non-zero
value: <RC>1</RC>. The message tag (<MSG>) contains further
information.

## Request for guest reservations by SIHOT.PMS
This request returns reservations for a certain guest profile. The
returned information is reduced to basic information of reservation and rooming list data. The request is highly optimized for SQL and ISAM database and performs very fast in order to display an overview of all bookings. Detailed information of a booking can be requested by ``SS`` requests.

### Direction

SIHOT.PMS → SIHOT.WEB
SIHOT.PMS ← SIHOT.WEB

### Message OC ``GET-GUEST-RESERVATIONS``

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<VER>1.0</VER>
	<OC>GET-GUEST-RESERVATIONS</OC>
	<ID/>
	<TN>10711222</TN>
	<SCOPE>PIPELINES;PERSONS</SCOPE>
	<PIPELINE>4</PIPELINE>
	<RT>1;2;S</RT>
	<GUEST-OBJID>64</GUEST-OBJID>
	<CENTRAL-GUEST-ID>123</CENTRAL-GUEST-ID>
	<FROM>2010-08-01</FROM>
	<TO>2017-01-25</TO>
	<HOTEL>1</HOTEL>
	<FLAGS>ALL-HOTELS;WITH-PERSONS</FLAGS>
</SIHOT-DOCUMENT>
```

<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>OC</td>
<td>GET-GUEST-RESERVATIONS</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="even">
<td>ID</td>
<td>Hotel ID</td>
<td>Integer</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>TN</td>
<td>Transaction number</td>
<td>Unsigned Long</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>SCOPE</td>
<td>Defines the search scope. At least one scope is needed. See further below</td>
<td>String</td>
<td>Mandatory</td>
</tr>
<tr class="odd">
<td>PIPELINE</td>
<td><p>Possible values are:</p>
<p>‘0’ = orderer,</p>
<p>‘1’ = travel agency,</p>
<p>‘2’ = travel point,</p>
<p>‘3’ = contact person,</p>
<p>‘4’ = all pipelines</p>
<p>The default value is ‘0’</p></td>
<td>Char</td>
<td>Mandatory, if scope PIPELINES is used</td>
</tr>
<tr class="even">
<td>RT</td>
<td><p>Multiple reservation type separated by ;</p>
<p>Some examples for reservation type. Full list needs to be requested from the customer</p>
<table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Reservation guaranteed</td>
</tr>
<tr class="even">
<td>2</td>
<td>Reservation not guaranteed</td>
</tr>
<tr class="odd">
<td>S</td>
<td>cancellation</td>
</tr>
<tr class="even">
<td>E</td>
<td>Error reservation, availability is not updated.</td>
</tr>
<tr class="odd">
<td>K</td>
<td>allotment</td>
</tr>
</tbody>
</table>
</td>
<td>Char</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>GUEST-OBJID</td>
<td>OBJID from guest</td>
<td>Unsigned long</td>
<td>Mandatory, if CENTRAL-GUEST-ID not set</td>
</tr>
<tr class="even">
<td>CENTRAL-GUEST-ID</td>
<td>Central ID from guest</td>
<td>Unsigned long</td>
<td>Mandatory, if GUEST-OBJID not set</td>
</tr>
<tr class="odd">
<td>FROM</td>
<td>From date of the requested reservations</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>TO</td>
<td>To date of the requested reservations</td>
<td>Date</td>
<td>Optional</td>
</tr>
<tr class="odd">
<td>HOTEL</td>
<td>Reservations only from this hotel are returned. Only needed if the flag ALL-HOTELS is not given.</td>
<td>Integer</td>
<td>Mandatory, if flag ALL-HOTELS is not used. One of the fields HOTEL, REGION, BRAND or HOTEL-CRITERIA has to be set.</td>
</tr>
<tr class="even">
<td>REGION</td>
<td>A hotel region can be provided, which will determine all hotels of a region.</td>
<td>String</td>
<td>Mandatory, if flag ALL-HOTELS is not used. One of the fields HOTEL, REGION, BRAND or HOTEL-CRITERIA has to be set.</td>
</tr>
<tr class="odd">
<td>BRAND</td>
<td>A hotel brand can be provided, which will determine all hotels of a brand.</td>
<td>String</td>
<td>Mandatory, if flag ALL-HOTELS is not used. One of the fields HOTEL, REGION, BRAND or HOTEL-CRITERIA has to be set.</td>
</tr>
<tr class="even">
<td>HOTEL-CRITERIA</td>
<td>Hotel criteria can be provided, which will determine all hotels of a criteria.</td>
<td>String</td>
<td>Mandatory, if flag ALL-HOTELS is not used. One of the fields HOTEL, REGION, BRAND or HOTEL-CRITERIA has to be set.</td>
</tr>
<tr class="odd">
<td>ROOMING-LIST-FREE-TEXT-SEARCH</td>
<td><p>The field searches on the rooming list only for the given string in the following field:</p>
<p>First-, Middle-, Lastname, Street, ZIP, City, Voucher Number, Reference Number, E-Mail Address, E-Mail Address for billing, Mobile Number and Comment</p></td>
<td>String</td>
<td>Optional</td>
</tr>
<tr class="even">
<td>FLAGS</td>
<td>See table below, values are semicolon(;)-separated</td>
<td>String</td>
<td>Optional</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr class="header">
<th>SCOPE</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>PIPELINES</td>
<td>This option defines which reservation pipeline will be searched for the given guest profile. If this option is send it also requires the element &lt;PIPELINE/&gt; to be passed in.</td>
</tr>
<tr class="even">
<td>PERSONS</td>
<td>This option enables the search for the given guest profile on the rooming list. It only searches within the rooming list, but without the flag WITH-PERSONS, no information about the guests will be returned</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr class="header">
<th>FLAGS</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ALL-HOTELS</td>
<td>Searches reservations over all hotels. If this FLAGS is passed in, the element &lt;HOTEL/&gt; is not needed</td>
</tr>
<tr class="even">
<td>WITH-PERSONS</td>
<td>This flag is used, if the rooming list is required within the answer. If there is a rooming list, the &lt;APERSONLIST/&gt; will be included into the answer</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr class="header">
<th>RC</th>
<th>MSG</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>OK</td>
<td>the request was processed correctly</td>
</tr>
<tr class="even">
<td>1010</td>
<td>No GUEST-OBJID given!</td>
<td>No or an invalid GUEST-OBJID was sent in</td>
</tr>
<tr class="odd">
<td>1011</td>
<td>No CENTRAL-GUEST-ID or GUEST-OBJID given!</td>
<td>Nor an valid GUEST-OBJID, neither an valid CENTRAL-GUEST-ID was sent in</td>
</tr>
<tr class="even">
<td>1025</td>
<td>Invalid SCOPE given! Must be PIPELINES or PERSONS or PIPELINES;PERSONS</td>
<td>One scope needs to be used. Either PIPELINES or PERSONS or PIPELINES;PERSONS must be used</td>
</tr>
<tr class="odd">
<td>1030</td>
<td>Invalid PIPELINE given! Must be: 0 orderer, 1 travel office, 2 travel agency, 3 contact person, 4 all</td>
<td>Please use as value for the PIPELINE element 0 for orderer, 1 for travel office, 2 for travel agency, 3 for contact person, 4 for all pipeline</td>
</tr>
<tr class="even">
<td>1040</td>
<td>No PIPELINE given! Must be: 0 orderer, 1 travel office, 2 travel agency, 3 contact person, 4 all</td>
<td>Please use as value for the PIPELINE element 0 for orderer, 1 for travel office, 2 for travel agency, 3 for contact person, 4 for all pipeline, or do not use the scope PIPELINES</td>
</tr>
<tr class="odd">
<td>1050</td>
<td>No HOTEL given!</td>
<td>Please use a valid hotel number in element HOTEL or use the flag ALL-HOTELS</td>
</tr>
<tr class="even">
<td>1060</td>
<td>Invalid reservation types given! Must be res_type1;res_type2; ...</td>
<td>Please use a valid reservation type or valid combination or reservation type.</td>
</tr>
<tr class="odd">
<td>2010</td>
<td>Res search failed: (ERROR MESSAGE)</td>
<td>The reservation search was not successful, please contact the SIHOT support</td>
</tr>
</tbody>
</table>

### Answer OC ``GET-GUEST-RESERVATION``

```XML
<?xml version="1.0" encoding="ISO-8859-1"?>
<SIHOT-DOCUMENT>
	<SIHOT-Version>
		<Version>v9.0.0.0787.CO.101</Version>
		<EXE>sinetres.exe</EXE>
	</SIHOT-Version>
	<OC>GET-GUEST-RESERVATIONS</OC>
	<RC>0</RC>
	<TN>157</TN>
	<MSG/>
	<ARESLIST>
		<RESERVATION>
			<OBJID>967</OBJID>
			<CENTRAL-RESERVATION-ID>2345</CENTRAL-RESERVATION-ID>
			<FROM>2011-08-15</FROM>
			<TO>2011-08-18</TO>
			<RES-HOTEL>1</RES-HOTEL>
			<RES-NR>55</RES-NR>
			<SUB-NR>2</SUB-NR>
			<GDSNO/>
			<RT>1</RT>
			<TOTAL-PRICE>50</TOTAL-PRICE>
			<MARKETCODE/>
			<MEDIA/>
			<SOURCE/>
			<CHANNEL/>
			<NN/>
			<ORDERER>
				<NAME>AMEROPA</NAME>
				<NAME1X/>
				<NAME2/>
			</ORDERER>
			<APERSONLIST>
				<PERSON>
					<NAME>Berger</NAME>
					<NAME1X/>
					<NAME2>Jens</NAME2>
					<ROOM-SEQ>0</ROOM-SEQ>
					<ROOM-PERS-SEQ>0</ROOM-PERS-SEQ>
				</PERSON>
			</APERSONLIST>
		</RESERVATION>
	</ARESLIST>
</SIHOT-Document>
```
<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>OC</td>
<td>GET-GUEST-RESERVATIONS</td>
<td>String</td>
</tr>
<tr class="even">
<td>ID</td>
<td>Hotel ID</td>
<td>Integer</td>
</tr>
<tr class="odd">
<td>TN</td>
<td>Transaction number</td>
<td>Unsigned Long</td>
</tr>
<tr class="even">
<td>OBJID</td>
<td>Internal reservation ID, unique within a database</td>
<td>Unsigned Long</td>
</tr>
<tr class="odd">
<td>CENTRAL-RESERVATION-ID</td>
<td>Central ID of the reservation</td>
<td>Unsigned Long</td>
</tr>
<tr class="even">
<td>FROM</td>
<td>Arrival date of this reservation</td>
<td>Date</td>
</tr>
<tr class="odd">
<td>TO</td>
<td>Departure date of this reservation</td>
<td>Date</td>
</tr>
<tr class="even">
<td>RES-HOTEL</td>
<td>Hotel where this reservation is made</td>
<td>Integer</td>
</tr>
<tr class="odd">
<td>RES-NR</td>
<td>Reservation number</td>
<td>Long</td>
</tr>
<tr class="even">
<td>SUB-NR</td>
<td>Reservation sub number</td>
<td>Short</td>
</tr>
<tr class="odd">
<td>GDSNO</td>
<td>GDS number</td>
<td>String</td>
</tr>
<tr class="even">
<td>RT</td>
<td><p>Reservation type</p>
<p>Some examples for reservation type. Full list needs to be requested from the customer</p>
<table>
<tbody>
<tr class="odd">
<td>1</td>
<td>Reservation guaranteed</td>
</tr>
<tr class="even">
<td>2</td>
<td>Reservation not guaranteed</td>
</tr>
<tr class="odd">
<td>S</td>
<td>cancellation</td>
</tr>
<tr class="even">
<td>E</td>
<td>Error reservation, availability is not updated.</td>
</tr>
<tr class="odd">
<td>K</td>
<td>allotment</td>
</tr>
</tbody>
</table>
</td>
<td>Char</td>
</tr>
<tr class="odd">
<td>TOTAL-PRICE</td>
<td>The forecasted price of the entire reservation</td>
<td>Decimal</td>
</tr>
<tr class="even">
<td>MARKETCODE</td>
<td>Market code</td>
<td>String</td>
</tr>
<tr class="odd">
<td>MEDIA</td>
<td>Reservation medium</td>
<td>String</td>
</tr>
<tr class="even">
<td>SOURCE</td>
<td>The ID of the source system</td>
<td>String</td>
</tr>
<tr class="odd">
<td>CHANNEL</td>
<td>Reservation channel ID</td>
<td>String</td>
</tr>
<tr class="even">
<td>NN</td>
<td>Not named</td>
<td>String</td>
</tr>
<tr class="odd">
<td>ORDERER</td>
<td>Represents the orderer of the reservation</td>
<td>BLOCK</td>
</tr>
<tr class="even">
<td>APERSONLIST</td>
<td>Representing the rooming list of the reservation Contains a list of PERSONS</td>
<td>BLOCK</td>
</tr>
</tbody>
</table>

#### Block Orderer
<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NAME</td>
<td>Last name of the orderer guest profile</td>
<td>String</td>
</tr>
<tr class="even">
<td>NAME1X</td>
<td>Second last name of the orderer guest profile</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NAME2</td>
<td>First name of the orderer guest profile</td>
<td>String</td>
</tr>
</tbody>
</table>

#### Block PERSONS
<table>
<thead>
<tr class="header">
<th>Attribute</th>
<th>Description</th>
<th>Data type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>NAME</td>
<td>Last name of the orderer guest profile</td>
<td>String</td>
</tr>
<tr class="even">
<td>NAME1X</td>
<td>Second last name of the orderer guest profile</td>
<td>String</td>
</tr>
<tr class="odd">
<td>NAME2</td>
<td>First name of the orderer guest profile</td>
<td>String</td>
</tr>
<tr class="even">
<td>ROOM-SEQ</td>
<td>Sequence number of this room. All persons with the same ROOM-SEQ number share a room</td>
<td>Short</td>
</tr>
<tr class="odd">
<td>ROOM-PERS-SEQ</td>
<td>Sequence number of persons that share this room</td>
<td>Short</td>
</tr>
</tbody>
</table>

